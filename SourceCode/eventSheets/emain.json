{
	"name": "Emain",
	"events": [
		{
			"eventType": "comment",
			"text": "To the unfortunate soul reading this. This is spaghetti code written in a few hours over a day and a half. YOU HAVE BEEN WARNED.\n\n"
		},
		{
			"eventType": "variable",
			"name": "GRID_X",
			"type": "number",
			"initialValue": "16",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 819063925630676
		},
		{
			"eventType": "variable",
			"name": "GRID_Y",
			"type": "number",
			"initialValue": "16",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 168346391711609
		},
		{
			"eventType": "variable",
			"name": "BUILDINGID",
			"type": "number",
			"initialValue": "2",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 188508155487081
		},
		{
			"eventType": "variable",
			"name": "GOLD",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 679015003663655
		},
		{
			"eventType": "variable",
			"name": "FLINT",
			"type": "number",
			"initialValue": "10",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 858883422002339
		},
		{
			"eventType": "variable",
			"name": "FIBRES",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 682848971552330
		},
		{
			"eventType": "variable",
			"name": "FOOD",
			"type": "number",
			"initialValue": "35",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 406375582792106
		},
		{
			"eventType": "variable",
			"name": "SANDSTONE",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 126407138359070
		},
		{
			"eventType": "variable",
			"name": "CURRENTLYBUILDING",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 322819001087366
		},
		{
			"eventType": "variable",
			"name": "CURRENTLYBUILDINGANIMATION",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 780297610358732
		},
		{
			"eventType": "variable",
			"name": "POPUPOPEN",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 116638185528526
		},
		{
			"eventType": "variable",
			"name": "CHOOSINGTARGET",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 679916867185344
		},
		{
			"eventType": "variable",
			"name": "CHOOSINGTARGETBUILDINGTYPE",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 487069054748253
		},
		{
			"eventType": "variable",
			"name": "CHOOSINGTARGETBUILDINGUID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 984445594929430
		},
		{
			"eventType": "variable",
			"name": "WAVE",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 208753947119266
		},
		{
			"eventType": "variable",
			"name": "ISDRAGGING",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 485701928256873
		},
		{
			"eventType": "variable",
			"name": "TUTORIAL",
			"type": "boolean",
			"initialValue": "true",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 636751030543657
		},
		{
			"eventType": "variable",
			"name": "SCALE",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 506382621334196
		},
		{
			"eventType": "variable",
			"name": "TUT",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 348872891802242
		},
		{
			"eventType": "variable",
			"name": "TIMER",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 886910419358949
		},
		{
			"eventType": "comment",
			"text": "Go to middle of layout"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 238434161105958
				}
			],
			"actions": [
				{
					"id": "scroll-to-position",
					"objectClass": "System",
					"sid": 462821855264695,
					"parameters": {
						"x": "LayoutWidth/2",
						"y": "LayoutHeight/2"
					}
				},
				{
					"id": "set-cursor-style",
					"objectClass": "Mouse",
					"sid": 383891355143181,
					"parameters": {
						"cursor-style": "none"
					}
				},
				{
					"id": "set-size",
					"objectClass": "arrTodo",
					"sid": 829831878040768,
					"parameters": {
						"width": "0",
						"height": "1",
						"depth": "1"
					}
				},
				{
					"callFunction": "funcCountOccupancy",
					"sid": 660292948546541
				},
				{
					"callFunction": "funcUpdateResourceValues",
					"sid": 840393654336021
				},
				{
					"id": "set-layer-scale",
					"objectClass": "System",
					"sid": 883508628274047,
					"parameters": {
						"layer": "\"ui\"",
						"scale": "SCALE"
					}
				},
				{
					"id": "set-layout-scale",
					"objectClass": "System",
					"sid": 975952490718934,
					"parameters": {
						"scale": "SCALE"
					}
				}
			],
			"sid": 920940406230352
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 945899160328716,
					"parameters": {
						"key": 65
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "camera",
					"sid": 583339828036404,
					"behaviorType": "8Direction",
					"parameters": {
						"control": "left"
					}
				}
			],
			"sid": 190452679895597
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 132352494070550,
					"parameters": {
						"key": 68
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "camera",
					"sid": 345031092122661,
					"behaviorType": "8Direction",
					"parameters": {
						"control": "right"
					}
				}
			],
			"sid": 553487702161895
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 850130246991887,
					"parameters": {
						"key": 87
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "camera",
					"sid": 657356311217916,
					"behaviorType": "8Direction",
					"parameters": {
						"control": "up"
					}
				}
			],
			"sid": 604025342726182
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "key-is-down",
					"objectClass": "Keyboard",
					"sid": 572367914743982,
					"parameters": {
						"key": 83
					}
				}
			],
			"actions": [
				{
					"id": "simulate-control",
					"objectClass": "camera",
					"sid": 270166071588300,
					"behaviorType": "8Direction",
					"parameters": {
						"control": "down"
					}
				}
			],
			"sid": 187966918686866
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 365604125043353
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "cursor",
					"sid": 485559240559823,
					"parameters": {
						"x": "Mouse.X",
						"y": "Mouse.Y"
					}
				},
				{
					"id": "set-y",
					"objectClass": "buildMenu",
					"sid": 544698688161475,
					"parameters": {
						"y": "ViewportTop(\"ui\")+Self.Height/2+10"
					}
				}
			],
			"sid": 885818241429879
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Generating Resources",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 294221588592739
						}
					],
					"actions": [],
					"sid": 583897895629835,
					"children": [
						{
							"eventType": "comment",
							"text": "Fibres"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 363775686601090,
									"parameters": {
										"count": "15"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 844193668292311,
									"parameters": {
										"object-to-create": "resource",
										"layer": "\"stuff\"",
										"x": "random(0,LayoutWidth)",
										"y": "random(0,LayoutHeight)",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-animation",
									"objectClass": "resource",
									"sid": 140375045813201,
									"parameters": {
										"animation": "\"fibres\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "resource",
									"sid": 499377361006139,
									"parameters": {
										"x": "floor(Self.X/GRID_X)*GRID_X",
										"y": "floor(Self.Y/GRID_Y)*GRID_Y"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "resource",
									"sid": 234304045502877,
									"parameters": {
										"instance-variable": "decay",
										"value": "40"
									}
								}
							],
							"sid": 416868877337372
						},
						{
							"eventType": "comment",
							"text": "Flint"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 244707213576195,
									"parameters": {
										"count": "10"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 661804585777918,
									"parameters": {
										"object-to-create": "resource",
										"layer": "\"stuff\"",
										"x": "random(0,LayoutWidth)",
										"y": "random(0,LayoutHeight)",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-animation",
									"objectClass": "resource",
									"sid": 511135304980168,
									"parameters": {
										"animation": "\"flint\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "resource",
									"sid": 963246571526459,
									"parameters": {
										"x": "floor(Self.X/GRID_X)*GRID_X",
										"y": "floor(Self.Y/GRID_Y)*GRID_Y"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "resource",
									"sid": 856371957853062,
									"parameters": {
										"instance-variable": "decay",
										"value": "40"
									}
								}
							],
							"sid": 295346716429527
						},
						{
							"eventType": "comment",
							"text": "Gold"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 150277523992059,
									"parameters": {
										"count": "5"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 296674559515842,
									"parameters": {
										"object-to-create": "resource",
										"layer": "\"stuff\"",
										"x": "random(0,LayoutWidth)",
										"y": "random(0,LayoutHeight)",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-animation",
									"objectClass": "resource",
									"sid": 473212268411574,
									"parameters": {
										"animation": "\"gold\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "resource",
									"sid": 522691448717165,
									"parameters": {
										"x": "floor(Self.X/GRID_X)*GRID_X",
										"y": "floor(Self.Y/GRID_Y)*GRID_Y"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "resource",
									"sid": 949022048205247,
									"parameters": {
										"instance-variable": "decay",
										"value": "20"
									}
								}
							],
							"sid": 509554606327264
						},
						{
							"eventType": "comment",
							"text": "Sandstone"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 181320305012980,
									"parameters": {
										"count": "30"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 950043559007528,
									"parameters": {
										"object-to-create": "resource",
										"layer": "\"stuff\"",
										"x": "random(0,LayoutWidth)",
										"y": "random(0,LayoutHeight)",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-animation",
									"objectClass": "resource",
									"sid": 456876665900286,
									"parameters": {
										"animation": "\"sandStone\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "resource",
									"sid": 614486928670394,
									"parameters": {
										"x": "floor(Self.X/GRID_X)*GRID_X",
										"y": "floor(Self.Y/GRID_Y)*GRID_Y"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "resource",
									"sid": 154218532266814,
									"parameters": {
										"instance-variable": "decay",
										"value": "60"
									}
								}
							],
							"sid": 528907955068480
						},
						{
							"eventType": "comment",
							"text": "Deer"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 312577423308757,
									"parameters": {
										"count": "10"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 351480006159879,
									"parameters": {
										"object-to-create": "deer",
										"layer": "\"stuff\"",
										"x": "random(0,LayoutWidth)",
										"y": "random(0,LayoutHeight)",
										"create-hierarchy": false
									}
								}
							],
							"sid": 936906472487799
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 141128477887919
						}
					],
					"actions": [],
					"sid": 697145295502305,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "resource",
									"sid": 453333841248661,
									"parameters": {
										"object": "famResources"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "resource",
									"sid": 268231626510875,
									"parameters": {
										"object": "building"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "resource",
									"sid": 729782323886042
								}
							],
							"sid": 469960710609607,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 890597696770443,
									"parameters": {
										"object": "famOrder",
										"expression": "famOrder.Y",
										"order": "descending"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-bottom",
									"objectClass": "famOrder",
									"sid": 262417426469118
								}
							],
							"sid": 262354911808886
						}
					]
				}
			],
			"sid": 174883245164176
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Selecting People",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "comment",
					"text": "Singular selection"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 645696956460448,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "person",
							"sid": 210793568935444,
							"parameters": {
								"instance-variable": "selected",
								"value": "false"
							}
						},
						{
							"id": "destroy",
							"objectClass": "selected",
							"sid": 104187979863649
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 663178692336273,
							"parameters": {
								"object-to-create": "selection",
								"layer": "\"selection\"",
								"x": "Mouse.X",
								"y": "Mouse.Y",
								"create-hierarchy": false
							}
						}
					],
					"sid": 511647655538757
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 413762495185133,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "person"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "person",
							"sid": 737063528856671,
							"parameters": {
								"instance-variable": "selected",
								"value": "true"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 183610895445804,
							"parameters": {
								"object-to-create": "selected",
								"layer": "\"arrow\"",
								"x": "person.X",
								"y": "person.ImagePointY(\"top\")-10",
								"create-hierarchy": false
							}
						},
						{
							"id": "pin-to-object-properties",
							"objectClass": "selected",
							"sid": 580339028249501,
							"behaviorType": "Pin",
							"parameters": {
								"pin-to": "person",
								"x": true,
								"y": true,
								"angle": true,
								"width-type": "no",
								"height-type": "no",
								"z": false
							}
						}
					],
					"sid": 326361621530396
				},
				{
					"eventType": "comment",
					"text": "Selecting a place to move"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 383055726167032,
							"parameters": {
								"mouse-button": "right",
								"click-type": "clicked"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 950980416439489,
							"parameters": {
								"object": "resource"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 461844528916362,
					"children": [
						{
							"eventType": "variable",
							"name": "currentX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 907388804691765
						},
						{
							"eventType": "variable",
							"name": "currentY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 934094510349514
						},
						{
							"eventType": "variable",
							"name": "gap",
							"type": "number",
							"initialValue": "32",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 679862432232046
						},
						{
							"eventType": "variable",
							"name": "unitsPerRow",
							"type": "number",
							"initialValue": "3",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 128826469060385
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "person",
									"sid": 431117183299162,
									"parameters": {
										"instance-variable": "selected"
									}
								},
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 411368449872997,
									"parameters": {
										"object": "person"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-position",
									"objectClass": "person",
									"sid": 790100917965395,
									"behaviorType": "MoveTo",
									"parameters": {
										"x": "Mouse.X+currentX",
										"y": "Mouse.Y+currentY",
										"mode": "direct"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 730629249989752,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"moving\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 338011538444266,
									"behaviorType": "Moving",
									"parameters": {
										"state": "active"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 535435992225575,
									"parameters": {
										"variable": "currentX",
										"value": "gap"
									}
								}
							],
							"sid": 403003268639355,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 194106325926005,
											"parameters": {
												"variable": "currentX",
												"comparison": 5,
												"value": "gap*unitsPerRow-1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 830770005265424,
											"parameters": {
												"variable": "currentX",
												"value": "0"
											}
										},
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 607538835676273,
											"parameters": {
												"variable": "currentY",
												"value": "gap"
											}
										}
									],
									"sid": 234663644103298
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Multiple selection"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "mouse-button-is-down",
							"objectClass": "Mouse",
							"sid": 280571220185158,
							"parameters": {
								"mouse-button": "left"
							}
						}
					],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "selection",
							"sid": 315866928353634,
							"parameters": {
								"width": "Mouse.X-Self.X",
								"height": "Mouse.Y-Self.Y"
							}
						},
						{
							"id": "set-size",
							"objectClass": "selection",
							"sid": 927307432321102,
							"disabled": true,
							"parameters": {
								"width": "floor((Mouse.X-Self.X)/GRID_X)*GRID_X",
								"height": "floor((Mouse.Y-Self.Y)/GRID_Y)*GRID_Y"
							}
						}
					],
					"sid": 572274419739867
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-button-released",
							"objectClass": "Mouse",
							"sid": 782901387402089,
							"parameters": {
								"mouse-button": "left"
							}
						}
					],
					"actions": [],
					"sid": 443149940295118,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "person",
									"sid": 604699110611661,
									"parameters": {
										"object": "selection"
									}
								},
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 582707102944925,
									"parameters": {
										"object": "person"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "person",
									"sid": 562577432553721,
									"parameters": {
										"instance-variable": "selected",
										"value": "true"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 502977460083950,
									"parameters": {
										"object-to-create": "selected",
										"layer": "\"arrow\"",
										"x": "person.X",
										"y": "person.ImagePointY(\"top\")-10",
										"create-hierarchy": false
									}
								},
								{
									"id": "pin-to-object-properties",
									"objectClass": "selected",
									"sid": 925750080065184,
									"behaviorType": "Pin",
									"parameters": {
										"pin-to": "person",
										"x": true,
										"y": true,
										"angle": true,
										"width-type": "no",
										"height-type": "no",
										"z": false
									}
								}
							],
							"sid": 483338918798776
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "selection",
									"sid": 995674153614472
								}
							],
							"sid": 153261750093961
						}
					]
				}
			],
			"sid": 977380879731155
		},
		{
			"eventType": "comment",
			"text": "On arrived"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-arrived",
					"objectClass": "person",
					"sid": 796793426385435,
					"behaviorType": "MoveTo"
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 988991428501559,
					"parameters": {
						"instance-variable": "task",
						"comparison": 0,
						"value": "\"\""
					}
				}
			],
			"actions": [
				{
					"id": "set-active",
					"objectClass": "person",
					"sid": 280894179024553,
					"behaviorType": "Moving",
					"parameters": {
						"state": "inactive"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "person",
					"sid": 754999762506482,
					"parameters": {
						"instance-variable": "currentState",
						"value": "\"idle\""
					}
				}
			],
			"sid": 433804235001780
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "State Machine",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-arrived",
							"objectClass": "person",
							"sid": 799604550885159,
							"behaviorType": "MoveTo"
						}
					],
					"actions": [],
					"sid": 604289715352657,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 281749069517435,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"gatherer\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 666242168120695,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 386865001776544,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"gathering\""
									}
								}
							],
							"sid": 927642472182664
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 822526307730431,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"breeding\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 158625076221934,
									"parameters": {
										"instance-variable": "task",
										"value": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 603442699132374,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"breeding\""
									}
								},
								{
									"id": "set-visible",
									"objectClass": "thought",
									"sid": 217497620576254,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 877337098599799
						},
						{
							"eventType": "comment",
							"text": "Job arrival"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 600159149962997,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"farm\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 414059278074377,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 706570548989643,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"farming\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 102996132306096,
									"behaviorType": "Work",
									"parameters": {
										"state": "active"
									}
								},
								{
									"id": "move-at-angle",
									"objectClass": "person",
									"sid": 544620329123018,
									"parameters": {
										"angle": "random(70,120)",
										"distance": "random(20,50)"
									}
								}
							],
							"sid": 164593296070644
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 796352322110225,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"armory\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 677081093101806,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 901938918319202,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"training\""
									}
								}
							],
							"sid": 113810725453260
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 770438981280759,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"mine\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 610833405850626,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 180507825253447,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"mining\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 652416207766295,
									"behaviorType": "Work",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 943275690473606
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 113471653377492,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"smoker\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 302610081194734,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 394067204130687,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"butchering\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 762868429673192,
									"behaviorType": "Work",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 605177240135158
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 332770580631397,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"hunting\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 778900529113907,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 885447455946941,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"killing\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 228638363033023,
									"behaviorType": "Work",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 996802503968476
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 377436444759585,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"attacking\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 654788207834885,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 731593381165871,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"killing goblin\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 502474896548998,
									"behaviorType": "Work",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 878214655014869
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 591999814721095,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"gathering meat\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 784255991825254,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 937805155782818,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"gathering meat\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 314947668208384,
									"behaviorType": "Work",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 166422308899839
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 696130475247781,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"tower\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 767600973797224,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 183193855356843,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"guarding\""
									}
								},
								{
									"id": "move-at-angle",
									"objectClass": "person",
									"sid": 530512503276952,
									"parameters": {
										"angle": "270",
										"distance": "44"
									}
								},
								{
									"id": "move-at-angle",
									"objectClass": "person",
									"sid": 203304433085424,
									"parameters": {
										"angle": "0",
										"distance": "random(-8,8)"
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 442308493140354,
									"behaviorType": "Work",
									"parameters": {
										"state": "active"
									}
								}
							],
							"sid": 168913110072116
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 911113916568236,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"running\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 934169542358715,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 160769485098010,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"idle\""
									}
								}
							],
							"sid": 440499664736685
						},
						{
							"eventType": "comment",
							"text": "Despositing"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 741388196248047,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"deposit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 168509704928915,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 557632663877966,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"idle\""
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 871649159481862,
									"parameters": {
										"variable": "GOLD",
										"value": "person.gold"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 795094833774944,
									"parameters": {
										"variable": "FIBRES",
										"value": "person.fibres"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 843809403809006,
									"parameters": {
										"variable": "FLINT",
										"value": "person.flint"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 157594190609060,
									"parameters": {
										"variable": "FOOD",
										"value": "person.food"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 357152480617798,
									"parameters": {
										"variable": "SANDSTONE",
										"value": "person.sandstone"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 387553721010863,
									"parameters": {
										"instance-variable": "gold",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 440129536960316,
									"parameters": {
										"instance-variable": "fibres",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 729626957850414,
									"parameters": {
										"instance-variable": "flint",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 418464049194646,
									"parameters": {
										"instance-variable": "food",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 981414498536705,
									"parameters": {
										"instance-variable": "sandstone",
										"value": "0"
									}
								},
								{
									"callFunction": "funcUpdateResourceValues",
									"sid": 120514504037475
								}
							],
							"sid": 609070369218322
						},
						{
							"eventType": "comment",
							"text": "Eating"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 804905264132365,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"eating\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 728177942892474,
									"behaviorType": "Moving",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 961287490840150,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"idle\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 530621886667744,
									"parameters": {
										"instance-variable": "task",
										"value": "\"\""
									}
								},
								{
									"id": "set-visible",
									"objectClass": "thought",
									"sid": 229626147227611,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 873154877085224,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 816106606315911,
											"parameters": {
												"variable": "FOOD",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-eventvar",
											"objectClass": "System",
											"sid": 388072959886255,
											"parameters": {
												"variable": "FOOD",
												"value": "1"
											}
										},
										{
											"callFunction": "funcUpdateResourceValues",
											"sid": 675560202039645
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 188430615957516,
											"parameters": {
												"instance-variable": "hunger",
												"value": "10"
											}
										}
									],
									"sid": 830765484256733
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 330257427486085,
							"parameters": {
								"interval-seconds": "1"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 138254715792968,
							"parameters": {
								"variable": "TIMER",
								"value": "1"
							}
						},
						{
							"callFunction": "funcUpdateResourceValues",
							"sid": 405149908224935
						}
					],
					"sid": 211866107923079,
					"children": [
						{
							"eventType": "comment",
							"text": "Reorder everything every second"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 642957939612379,
									"parameters": {
										"object": "famOrder",
										"expression": "famOrder.Y",
										"order": "descending"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-bottom",
									"objectClass": "famOrder",
									"sid": 274894261640867
								}
							],
							"sid": 370765943347049
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "funcStateMachine",
									"sid": 101609930935040
								}
							],
							"sid": 608797277614905
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "deer",
									"sid": 436723659156169,
									"parameters": {
										"instance-variable": "alive"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "deer",
									"sid": 865813617033848,
									"parameters": {
										"instance-variable": "decay",
										"value": "1"
									}
								}
							],
							"sid": 891719180085932,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-moving",
											"objectClass": "deer",
											"sid": 614751376046577,
											"behaviorType": "MoveTo"
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "deer",
											"sid": 127906524803750,
											"behaviorType": "MoveTo"
										}
									],
									"sid": 540079841912434
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "deer",
									"sid": 895303298713160,
									"parameters": {
										"instance-variable": "decay",
										"comparison": 3,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "deer",
									"sid": 151685583903521
								}
							],
							"sid": 551369711585976
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "deer",
									"sid": 167340068337650,
									"parameters": {
										"instance-variable": "breeding",
										"value": "choose(0,0,1)"
									}
								}
							],
							"sid": 642043228995452
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "resource",
									"sid": 976335491745926,
									"parameters": {
										"instance-variable": "decay",
										"comparison": 3,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "resource",
									"sid": 224152347950328
								}
							],
							"sid": 337038586884383
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "deer",
									"sid": 466746004287778,
									"parameters": {
										"instance-variable": "breeding",
										"comparison": 5,
										"value": "10"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 594810742615212,
									"parameters": {
										"first-value": "deer.Count",
										"comparison": 2,
										"second-value": "20"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "deer",
									"sid": 277021058647911,
									"parameters": {
										"instance-variable": "alive"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "deer",
									"sid": 943389321061211,
									"parameters": {
										"instance-variable": "breeding",
										"value": "0"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "deer",
									"sid": 164579019991281,
									"parameters": {
										"object": "deer",
										"layer": "\"stuff\"",
										"image-point": "0",
										"create-hierarchy": false
									}
								}
							],
							"sid": 800409729036676
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "goblin",
									"sid": 398331080572114,
									"parameters": {
										"object": "building"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 813566024483174,
									"parameters": {
										"animation": "\"firepit\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "building",
									"sid": 914589638690049,
									"parameters": {
										"instance-variable": "health",
										"value": "1"
									}
								}
							],
							"sid": 267302638769033
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "goblin",
									"sid": 925682703815908,
									"parameters": {
										"object": "person"
									}
								}
							],
							"actions": [],
							"sid": 211320767617852,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "goblin",
											"sid": 396218733993394,
											"parameters": {
												"animation": "\"goblin\""
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "person",
											"sid": 654163068632412,
											"parameters": {
												"instance-variable": "health",
												"value": "1"
											}
										}
									],
									"sid": 611444977242180
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "goblin",
											"sid": 784618447261405,
											"parameters": {
												"animation": "\"troll\""
											}
										}
									],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "person",
											"sid": 335366495793507,
											"parameters": {
												"instance-variable": "health",
												"value": "1"
											}
										}
									],
									"sid": 877340668520106
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "building",
									"sid": 487124229657083,
									"parameters": {
										"instance-variable": "health",
										"comparison": 3,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "building",
									"sid": 556858737748981
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 804717370812460,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"callFunction": "funcCheckOccupationOccupancy",
									"sid": 689886084557611
								},
								{
									"callFunction": "funcCountOccupancy",
									"sid": 236016226640050
								},
								{
									"callFunction": "funcCheckWorkplaceStillExists",
									"sid": 293749167268567
								}
							],
							"sid": 649900503722969
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 349950852776455,
									"parameters": {
										"instance-variable": "health",
										"comparison": 3,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "person",
									"sid": 949634129052843
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 218813191204912,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"callFunction": "funcCheckOccupationOccupancy",
									"sid": 141173788957011
								},
								{
									"callFunction": "funcCountOccupancy",
									"sid": 928606865075478
								},
								{
									"callFunction": "funcCheckWorkplaceStillExists",
									"sid": 142780851674814
								}
							],
							"sid": 743370827054890
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "building",
									"sid": 712081677687455,
									"parameters": {
										"instance-variable": "health",
										"comparison": 2,
										"value": "10"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "building",
									"sid": 501793172449092,
									"parameters": {
										"instance-variable": "health",
										"value": "0.5"
									}
								}
							],
							"sid": 838393218064716
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 533953438930703,
									"parameters": {
										"object": "goblin"
									}
								}
							],
							"actions": [],
							"sid": 162024968551929,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 306085901681008,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"moving\""
											}
										}
									],
									"actions": [],
									"sid": 168958985334808,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "famToDestroy",
													"sid": 619173331568759,
													"parameters": {
														"instance-variable": "dontDestroy"
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 590634752181861,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-nearestfurthest",
															"objectClass": "famToDestroy",
															"sid": 968173898940113,
															"parameters": {
																"which": "nearest",
																"x": "goblin.X",
																"y": "goblin.Y"
															}
														}
													],
													"actions": [
														{
															"id": "move-to-object",
															"objectClass": "goblin",
															"sid": 436815098535965,
															"behaviorType": "MoveTo",
															"parameters": {
																"object": "famToDestroy",
																"image-point": "0",
																"mode": "direct"
															}
														}
													],
													"sid": 789770738376405
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 763264924941211,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"attacking\""
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "goblin",
											"sid": 166058218042389,
											"behaviorType": "MoveTo"
										}
									],
									"sid": 892529589059460
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 415868162308223,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"destroy\""
											}
										}
									],
									"actions": [
										{
											"id": "stop",
											"objectClass": "goblin",
											"sid": 880483202709457,
											"behaviorType": "MoveTo"
										}
									],
									"sid": 995745075947195
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "goblin",
											"sid": 596049390204171,
											"parameters": {
												"object": "building"
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "building",
											"sid": 455909060917268,
											"parameters": {
												"animation": "\"firepit\""
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 753242150826353,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"destroy\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "goblin",
											"sid": 624635315208490,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										}
									],
									"sid": 895948361900351
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "goblin",
											"sid": 335730246589022,
											"parameters": {
												"object": "person"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 956235395752668,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"attack\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "goblin",
											"sid": 532353423511227,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										}
									],
									"sid": 229017924996370
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "goblin",
											"sid": 537890929861035,
											"parameters": {
												"object": "building"
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "building",
											"sid": 973566340264761,
											"parameters": {
												"animation": "\"firepit\""
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 939236419904078,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"moving\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "goblin",
											"sid": 637477326361127,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"destroy\""
											}
										}
									],
									"sid": 884546227253009
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "goblin",
											"sid": 376626692791217,
											"parameters": {
												"object": "person"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 429352030871545,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"moving\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "goblin",
											"sid": 210746270398389,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"attack\""
											}
										}
									],
									"sid": 839345928758569
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 236786391863846
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 921677187391710,
											"parameters": {
												"instance-variable": "currentState",
												"comparison": 0,
												"value": "\"moving\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "goblin",
											"sid": 857392732194682,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										}
									],
									"sid": 810235495955881
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 416563829527470,
							"parameters": {
								"mouse-button": "right",
								"click-type": "clicked",
								"object-clicked": "resource"
							}
						}
					],
					"actions": [],
					"sid": 831518580674141,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "person",
									"sid": 167370691414910,
									"parameters": {
										"instance-variable": "selected"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 207356333910003,
									"parameters": {
										"instance-variable": "job",
										"comparison": 0,
										"value": "\"gatherer\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 787369695742888,
									"parameters": {
										"instance-variable": "task",
										"value": "\"gatherer\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 385109454765289,
									"parameters": {
										"instance-variable": "jobX",
										"value": "resource.X"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 472467320976390,
									"parameters": {
										"instance-variable": "jobY",
										"value": "resource.Y"
									}
								},
								{
									"callFunction": "funcStateMachine",
									"sid": 875650951268702
								}
							],
							"sid": 720837188065557
						}
					]
				}
			],
			"sid": 400204455050841
		},
		{
			"functionName": "funcStateMachine",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 555225255655865,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 255067897477804,
							"parameters": {
								"object": "person"
							}
						}
					],
					"actions": [],
					"sid": 382919497087726,
					"children": [
						{
							"eventType": "comment",
							"text": "If they are idle, procrastinate"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 951691333771583,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"idle\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 614758149081182,
									"parameters": {
										"instance-variable": "task",
										"comparison": 0,
										"value": "\"\""
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 447263424617166,
									"parameters": {
										"first-value": "choose(0,0,1)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [],
							"sid": 995810272871789,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 934002804900435,
											"parameters": {
												"instance-variable": "hunger",
												"comparison": 4,
												"value": "2"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 306320849849967,
											"parameters": {
												"instance-variable": "health",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [],
									"sid": 798807161942158,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 721524571436466,
													"parameters": {
														"first-value": "choose(0,1,1,1,1)",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "move-to-position",
													"objectClass": "person",
													"sid": 710568096266649,
													"behaviorType": "MoveTo",
													"parameters": {
														"x": "Self.X+random(-20,20)",
														"y": "Self.Y+random(-20,20)",
														"mode": "direct"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 680984621834407,
													"parameters": {
														"instance-variable": "currentState",
														"value": "\"moving\""
													}
												},
												{
													"id": "set-active",
													"objectClass": "person",
													"sid": 844029388177733,
													"behaviorType": "Moving",
													"parameters": {
														"state": "active"
													}
												}
											],
											"sid": 535888584060050
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 454213205126471
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "building",
													"sid": 889546799056350,
													"parameters": {
														"instance-variable": "id",
														"comparison": 0,
														"value": "person.houseID"
													}
												}
											],
											"actions": [
												{
													"id": "move-to-position",
													"objectClass": "person",
													"sid": 732902331901399,
													"behaviorType": "MoveTo",
													"parameters": {
														"x": "building.X+random(-20,20)",
														"y": "building.Y+random(-20,20)",
														"mode": "direct"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 916563616113768,
													"parameters": {
														"instance-variable": "currentState",
														"value": "\"moving\""
													}
												},
												{
													"id": "set-active",
													"objectClass": "person",
													"sid": 815803704577924,
													"behaviorType": "Moving",
													"parameters": {
														"state": "active"
													}
												}
											],
											"sid": 102559257353120
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Having a child"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 185531935967542,
									"parameters": {
										"instance-variable": "job",
										"comparison": 1,
										"value": "\"child\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 984624107785575,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 1,
										"value": "\"killing goblin\""
									}
								}
							],
							"actions": [],
							"sid": 892849917264856,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 228733242705796,
											"parameters": {
												"instance-variable": "breeding",
												"comparison": 5,
												"value": "10"
											}
										}
									],
									"actions": [
										{
											"callFunction": "funcCountOccupancy",
											"sid": 561002147768928
										}
									],
									"sid": 474412506856699,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "building",
													"sid": 331298586265672,
													"parameters": {
														"animation": "\"firepit\""
													}
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 740838362580616,
													"parameters": {
														"variable": "OCCUPANTS",
														"comparison": 2,
														"value": "OCCUPANCY"
													}
												}
											],
											"actions": [
												{
													"id": "set-visible",
													"objectClass": "thought",
													"sid": 515017919659340,
													"parameters": {
														"visibility": "visible"
													}
												},
												{
													"id": "set-animation-frame",
													"objectClass": "thought",
													"sid": 818831591455264,
													"parameters": {
														"frame-number": "1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 725802209855474,
													"parameters": {
														"instance-variable": "breeding",
														"value": "0"
													}
												},
												{
													"id": "move-to-position",
													"objectClass": "person",
													"sid": 140993492663478,
													"behaviorType": "MoveTo",
													"parameters": {
														"x": "building.X+random(-30,30)",
														"y": "building.Y+random(-20,20)",
														"mode": "direct"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 883471912066546,
													"parameters": {
														"instance-variable": "currentState",
														"value": "\"moving\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 672354343073163,
													"parameters": {
														"instance-variable": "task",
														"value": "\"breeding\""
													}
												},
												{
													"id": "set-active",
													"objectClass": "person",
													"sid": 605038764081321,
													"behaviorType": "Moving",
													"parameters": {
														"state": "active"
													}
												}
											],
											"sid": 545194066456134
										}
									]
								}
							]
						},
						{
							"eventType": "variable",
							"name": "localHouseID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 147451982345215
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 127955261600572,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"breeding\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 620077519264310,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"idle\""
									}
								},
								{
									"callFunction": "funcCreateChild",
									"sid": 831250006027405,
									"parameters": [
										"person.X",
										"person.Y"
									]
								}
							],
							"sid": 775741255268503
						},
						{
							"eventType": "comment",
							"text": "Child growing up"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 895334067327789,
									"parameters": {
										"instance-variable": "age",
										"comparison": 4,
										"value": "10"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "person",
									"sid": 578288977013985,
									"parameters": {
										"instance-variable": "breeding",
										"value": "clamp(choose(0,0.1,0.2),0,10)"
									}
								}
							],
							"sid": 853505935304965,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 734138330560402,
											"parameters": {
												"instance-variable": "job",
												"comparison": 0,
												"value": "\"child\""
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "person",
											"sid": 418185098827813,
											"parameters": {
												"width": "33",
												"height": "30"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 901920895481898,
											"parameters": {
												"instance-variable": "job",
												"value": "\"peasant\""
											}
										}
									],
									"sid": 989005395193613
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Aging, dying of old age, plus other needs"
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "person",
									"sid": 609904202968716,
									"parameters": {
										"instance-variable": "age",
										"value": "0.1"
									}
								},
								{
									"id": "subtract-from-instvar",
									"objectClass": "person",
									"sid": 397409009789787,
									"parameters": {
										"instance-variable": "hunger",
										"value": "0.3"
									}
								}
							],
							"sid": 787461596594926
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 112581049559566,
									"parameters": {
										"instance-variable": "age",
										"comparison": 4,
										"value": "50"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 697274547938774,
									"parameters": {
										"first-value": "choose(0,1)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [],
							"sid": 337716739692368,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "person",
											"sid": 565992918160000
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 494425651270775,
											"parameters": {
												"seconds": "0.1"
											}
										},
										{
											"callFunction": "funcCountOccupancy",
											"sid": 832924642891122
										},
										{
											"callFunction": "funcCheckOccupationOccupancy",
											"sid": 914102083115629
										}
									],
									"sid": 710389041690661
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 888412157539218,
									"parameters": {
										"instance-variable": "hunger",
										"comparison": 3,
										"value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 372209327781539,
									"parameters": {
										"instance-variable": "task",
										"comparison": 1,
										"value": "\"eating\""
									}
								}
							],
							"actions": [],
							"sid": 844318587866888,
							"children": [
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "person",
											"sid": 498708244983141
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 276788481017516,
											"parameters": {
												"seconds": "0.1"
											}
										},
										{
											"callFunction": "funcCountOccupancy",
											"sid": 627051449773762
										},
										{
											"callFunction": "funcCheckOccupationOccupancy",
											"sid": 665448434411458
										}
									],
									"sid": 641814685582882
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Work"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 628330736433800,
									"parameters": {
										"instance-variable": "job",
										"comparison": 1,
										"value": "\"child\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 390911724142318,
									"parameters": {
										"instance-variable": "job",
										"comparison": 1,
										"value": "\"peasant\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 872506986299487,
									"parameters": {
										"instance-variable": "task",
										"comparison": 1,
										"value": "\"breeding\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 897316169730315,
									"parameters": {
										"instance-variable": "task",
										"comparison": 1,
										"value": "\"eating\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 763734772225267,
									"parameters": {
										"instance-variable": "task",
										"comparison": 1,
										"value": "\"hunting\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 184044976596579,
									"parameters": {
										"instance-variable": "task",
										"comparison": 1,
										"value": "\"gathering meat\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 230938246543639,
									"parameters": {
										"instance-variable": "task",
										"comparison": 1,
										"value": "\"guarding\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 996949575995621,
									"parameters": {
										"instance-variable": "task",
										"comparison": 1,
										"value": "\"attacking\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 162833642224234,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 1,
										"value": "\"killing goblin\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 731837386569780,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 1,
										"value": "\"being attacked\""
									}
								}
							],
							"actions": [],
							"sid": 397105372926287,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 923376547985415,
											"parameters": {
												"instance-variable": "hunger",
												"comparison": 4,
												"value": "2"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 390329265578950,
											"parameters": {
												"instance-variable": "health",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [],
									"sid": 326564131998811,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "building",
													"sid": 932030689743797,
													"parameters": {
														"instance-variable": "id",
														"comparison": 0,
														"value": "person.jobID"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "person",
													"sid": 202173914754612,
													"parameters": {
														"instance-variable": "task",
														"comparison": 1,
														"value": "building.AnimationName"
													}
												}
											],
											"actions": [],
											"sid": 270823077079786,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "building",
															"sid": 327873026613794,
															"parameters": {
																"instance-variable": "targetX",
																"comparison": 1,
																"value": "-500"
															}
														}
													],
													"actions": [
														{
															"id": "move-to-position",
															"objectClass": "person",
															"sid": 623732043947689,
															"behaviorType": "MoveTo",
															"parameters": {
																"x": "building.targetX+random(-30,30)",
																"y": "building.targetY+20",
																"mode": "direct"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "person",
															"sid": 887227526746057,
															"parameters": {
																"instance-variable": "currentState",
																"value": "\"moving\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "person",
															"sid": 285787439640473,
															"parameters": {
																"instance-variable": "task",
																"value": "building.AnimationName"
															}
														},
														{
															"id": "set-active",
															"objectClass": "person",
															"sid": 692532685653122,
															"behaviorType": "Moving",
															"parameters": {
																"state": "active"
															}
														}
													],
													"sid": 666616708611538
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 696817270118657
														}
													],
													"actions": [
														{
															"id": "move-to-position",
															"objectClass": "person",
															"sid": 988074531587523,
															"behaviorType": "MoveTo",
															"parameters": {
																"x": "building.X",
																"y": "building.Y",
																"mode": "direct"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "person",
															"sid": 398868040957570,
															"parameters": {
																"instance-variable": "currentState",
																"value": "\"moving\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "person",
															"sid": 820790196461307,
															"parameters": {
																"instance-variable": "task",
																"value": "building.AnimationName"
															}
														},
														{
															"id": "set-active",
															"objectClass": "person",
															"sid": 175138802437554,
															"behaviorType": "Moving",
															"parameters": {
																"state": "active"
															}
														}
													],
													"sid": 809082154059399
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 944607899302697,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"mining\""
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "person",
									"sid": 231784127930432,
									"parameters": {
										"object": "resource"
									}
								}
							],
							"actions": [],
							"sid": 116424351034684,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "resource",
											"sid": 341597125626151,
											"parameters": {
												"animation": "\"fibres\""
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "person",
											"sid": 906460854899769,
											"parameters": {
												"instance-variable": "fibres",
												"value": "1"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "resource",
											"sid": 259375093088367,
											"parameters": {
												"instance-variable": "decay",
												"value": "1"
											}
										}
									],
									"sid": 671368196879128
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "resource",
											"sid": 461680264448952,
											"parameters": {
												"animation": "\"flint\""
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "person",
											"sid": 216775303695156,
											"parameters": {
												"instance-variable": "flint",
												"value": "1"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "resource",
											"sid": 723836178830359,
											"parameters": {
												"instance-variable": "decay",
												"value": "1"
											}
										}
									],
									"sid": 496101785131148
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "resource",
											"sid": 897518451271589,
											"parameters": {
												"animation": "\"gold\""
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "person",
											"sid": 184340277201936,
											"parameters": {
												"instance-variable": "gold",
												"value": "0.2"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "resource",
											"sid": 859911962596059,
											"parameters": {
												"instance-variable": "decay",
												"value": "0.2"
											}
										}
									],
									"sid": 596452449254756
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "resource",
											"sid": 642725761297132,
											"parameters": {
												"animation": "\"sandStone\""
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "person",
											"sid": 249479516497379,
											"parameters": {
												"instance-variable": "sandstone",
												"value": "2"
											}
										},
										{
											"id": "subtract-from-instvar",
											"objectClass": "resource",
											"sid": 866101985806067,
											"parameters": {
												"instance-variable": "decay",
												"value": "2"
											}
										}
									],
									"sid": 153331729137008
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 275663883029679,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"farming\""
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "person",
									"sid": 524604388678610,
									"parameters": {
										"instance-variable": "food",
										"value": "0.2"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 501291588550636,
									"parameters": {
										"instance-variable": "food",
										"value": "clamp(Self.food,0,10)"
									}
								}
							],
							"sid": 899191508502797
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 275224413485577,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"butchering\""
									}
								},
								{
									"id": "pick-nearestfurthest",
									"objectClass": "deer",
									"sid": 913364129932170,
									"parameters": {
										"which": "nearest",
										"x": "person.X",
										"y": "person.Y"
									}
								}
							],
							"actions": [],
							"sid": 253932782459827,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "deer",
											"sid": 151424394155857,
											"parameters": {
												"instance-variable": "alive"
											}
										}
									],
									"actions": [
										{
											"id": "move-to-position",
											"objectClass": "person",
											"sid": 509009347199377,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "deer.X",
												"y": "deer.Y",
												"mode": "direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 885278237562526,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 317529901514272,
											"parameters": {
												"instance-variable": "task",
												"value": "\"hunting\""
											}
										},
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 604388602640627,
											"behaviorType": "Moving",
											"parameters": {
												"state": "active"
											}
										}
									],
									"sid": 416546370650422
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "deer",
											"sid": 454971747997914,
											"parameters": {
												"instance-variable": "alive"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "move-to-position",
											"objectClass": "person",
											"sid": 162723485216665,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "deer.X",
												"y": "deer.Y+10",
												"mode": "direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 350142899743219,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 239109783225797,
											"parameters": {
												"instance-variable": "task",
												"value": "\"gathering meat\""
											}
										},
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 656674309561620,
											"behaviorType": "Moving",
											"parameters": {
												"state": "active"
											}
										}
									],
									"sid": 779350103796457
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 853196950934266,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"killing\""
									}
								},
								{
									"id": "pick-nearestfurthest",
									"objectClass": "deer",
									"sid": 889392731278878,
									"parameters": {
										"which": "nearest",
										"x": "person.X",
										"y": "person.Y"
									}
								}
							],
							"actions": [],
							"sid": 368760115501195,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "deer",
											"sid": 921169378966749,
											"parameters": {
												"instance-variable": "alive"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "deer",
											"sid": 139596622394389,
											"parameters": {
												"animation": "\"dead\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "deer",
											"sid": 485303174270826,
											"parameters": {
												"instance-variable": "alive",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 825640744030830,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"butchering\""
											}
										},
										{
											"id": "set-active",
											"objectClass": "deer",
											"sid": 201023506597793,
											"behaviorType": "Moving",
											"parameters": {
												"state": "inactive"
											}
										},
										{
											"id": "stop",
											"objectClass": "deer",
											"sid": 431213581111970,
											"behaviorType": "MoveTo"
										}
									],
									"sid": 320849701522023
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "deer",
											"sid": 679246263091143,
											"parameters": {
												"instance-variable": "alive"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "move-to-position",
											"objectClass": "person",
											"sid": 487986297400931,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "deer.X",
												"y": "deer.Y+10",
												"mode": "direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 124113188184124,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 845923413045758,
											"parameters": {
												"instance-variable": "task",
												"value": "\"gathering meat\""
											}
										},
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 957575052805875,
											"behaviorType": "Moving",
											"parameters": {
												"state": "active"
											}
										}
									],
									"sid": 317232771086479
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 634385010558043,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"gathering meat\""
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "person",
									"sid": 805695016759727,
									"parameters": {
										"instance-variable": "food",
										"value": "0.5"
									}
								}
							],
							"sid": 455803872639203
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 838037337015507,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"guarding\""
									}
								}
							],
							"actions": [],
							"sid": 839386788434738,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-los-to-object",
											"objectClass": "person",
											"sid": 531174272557984,
											"behaviorType": "LineOfSight",
											"parameters": {
												"object": "goblin",
												"image-point": "0"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "person",
											"sid": 131123454763014,
											"parameters": {
												"object": "bullet",
												"layer": "\"stuff\"",
												"image-point": "\"shoot\"",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-angle-toward-position",
											"objectClass": "bullet",
											"sid": 861894328771569,
											"parameters": {
												"x": "goblin.X",
												"y": "goblin.Y"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "bullet",
											"sid": 216526280618006,
											"behaviorType": "Bullet",
											"parameters": {
												"speed": "random(350,450)"
											}
										}
									],
									"sid": 287939953622744
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 812608706646388,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"training\""
									}
								}
							],
							"actions": [],
							"sid": 749667628506327,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-los-to-object",
											"objectClass": "person",
											"sid": 401470742845079,
											"behaviorType": "LineOfSight",
											"parameters": {
												"object": "goblin",
												"image-point": "0"
											}
										},
										{
											"id": "pick-nearestfurthest",
											"objectClass": "goblin",
											"sid": 596755621254099,
											"parameters": {
												"which": "nearest",
												"x": "person.X",
												"y": "person.Y"
											}
										}
									],
									"actions": [
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 955497713591173,
											"behaviorType": "Work",
											"parameters": {
												"state": "inactive"
											}
										},
										{
											"id": "move-to-position",
											"objectClass": "person",
											"sid": 706521859522307,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "goblin.X",
												"y": "goblin.Y",
												"mode": "direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 338745951252051,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 383007757738126,
											"parameters": {
												"instance-variable": "task",
												"value": "\"attacking\""
											}
										},
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 648867946538072,
											"behaviorType": "Moving",
											"parameters": {
												"state": "active"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "person",
											"sid": 510445136253678,
											"parameters": {
												"angle": "0"
											}
										}
									],
									"sid": 778582935785142
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 273422195847844,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"killing goblin\""
									}
								},
								{
									"id": "pick-nearestfurthest",
									"objectClass": "goblin",
									"sid": 977373439062715,
									"parameters": {
										"which": "nearest",
										"x": "person.X",
										"y": "person.Y"
									}
								}
							],
							"actions": [],
							"sid": 566357641386573,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "goblin",
											"sid": 209496581939375,
											"parameters": {
												"instance-variable": "health",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "goblin",
											"sid": 752233780892486
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 729468323617084,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"training\""
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "person",
											"sid": 112707310043511,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"\"",
												"property": "position",
												"end-x": "Self.X-random(-20,20)",
												"end-y": "Self.Y",
												"time": "0.5",
												"ease": "easeoutquart",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no"
											}
										}
									],
									"sid": 404174690720925
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 973552387111230,
									"parameters": {
										"instance-variable": "currentState",
										"comparison": 0,
										"value": "\"being attacked\""
									}
								}
							],
							"actions": [
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 836862640511769,
									"behaviorType": "Work",
									"parameters": {
										"state": "inactive"
									}
								},
								{
									"id": "move-to-position",
									"objectClass": "person",
									"sid": 354660873254992,
									"behaviorType": "MoveTo",
									"parameters": {
										"x": "Self.X+random(-50,50)",
										"y": "Self.Y+random(-50,50)",
										"mode": "direct"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 139099086148393,
									"parameters": {
										"instance-variable": "currentState",
										"value": "\"moving\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 885943266631672,
									"parameters": {
										"instance-variable": "task",
										"value": "\"running\""
									}
								},
								{
									"id": "set-active",
									"objectClass": "person",
									"sid": 611967843366964,
									"behaviorType": "Moving",
									"parameters": {
										"state": "active"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "person",
									"sid": 647704742417451,
									"parameters": {
										"angle": "0"
									}
								}
							],
							"sid": 223115764657984
						},
						{
							"eventType": "comment",
							"text": "Depositing materials"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 696428975520918,
									"parameters": {
										"instance-variable": "fibres",
										"comparison": 5,
										"value": "10"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 519851052260182,
									"parameters": {
										"instance-variable": "flint",
										"comparison": 5,
										"value": "10"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 827109921418925,
									"parameters": {
										"instance-variable": "gold",
										"comparison": 5,
										"value": "10"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 436727215681521,
									"parameters": {
										"instance-variable": "sandstone",
										"comparison": 5,
										"value": "10"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 913497422570753,
									"parameters": {
										"instance-variable": "food",
										"comparison": 5,
										"value": "10"
									}
								}
							],
							"actions": [],
							"sid": 153477648277977,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "building",
											"sid": 604198009805340,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "person.jobID"
											}
										}
									],
									"actions": [
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 894771524129286,
											"behaviorType": "Work",
											"parameters": {
												"state": "inactive"
											}
										},
										{
											"id": "move-to-position",
											"objectClass": "person",
											"sid": 326135638143846,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "building.X+random(-30,30)",
												"y": "building.Y+20",
												"mode": "direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 854515675127571,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 929293913814965,
											"parameters": {
												"instance-variable": "task",
												"value": "\"deposit\""
											}
										},
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 405915191640038,
											"behaviorType": "Moving",
											"parameters": {
												"state": "active"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "person",
											"sid": 498829667325256,
											"parameters": {
												"angle": "0"
											}
										}
									],
									"sid": 373215833352909
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Eating"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 453601275859700,
									"parameters": {
										"instance-variable": "hunger",
										"comparison": 3,
										"value": "2"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "thought",
									"sid": 989490652133309,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "thought",
									"sid": 349910538042690,
									"parameters": {
										"frame-number": "0"
									}
								}
							],
							"sid": 932013059898359,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "building",
											"sid": 632686139297235,
											"parameters": {
												"animation": "\"firepit\""
											}
										}
									],
									"actions": [
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 400833676459067,
											"behaviorType": "Work",
											"parameters": {
												"state": "inactive"
											}
										},
										{
											"id": "move-to-position",
											"objectClass": "person",
											"sid": 140221875113214,
											"behaviorType": "MoveTo",
											"parameters": {
												"x": "building.X+random(-30,30)",
												"y": "building.Y+20",
												"mode": "direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 795475496054877,
											"parameters": {
												"instance-variable": "currentState",
												"value": "\"moving\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 506509359316148,
											"parameters": {
												"instance-variable": "task",
												"value": "\"eating\""
											}
										},
										{
											"id": "set-active",
											"objectClass": "person",
											"sid": 255018688331040,
											"behaviorType": "Moving",
											"parameters": {
												"state": "active"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "person",
											"sid": 433067069709521,
											"parameters": {
												"angle": "0"
											}
										}
									],
									"sid": 425451792791281
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Building",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Tweening (opening building menu)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 771471503735592,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "buildMenu2"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 386383183504279,
							"parameters": {
								"variable": "POPUPOPEN"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "buildMenu",
							"sid": 329844882035005,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetX",
								"end-value": "ViewportRight(\"ui\")-Self.Width/2+15",
								"time": "0.3",
								"ease": "easeoutquad",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 536741426284284
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 709738405743239,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "buildMenu"
							}
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "buildMenu",
							"sid": 738173194715392,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"\"",
								"property": "offsetX",
								"end-value": "ViewportRight(\"ui\")+Self.Width/2+15",
								"time": "0.3",
								"ease": "easeoutquad",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no"
							}
						}
					],
					"sid": 795301716530839
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 383506110580754,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "buildingSelection"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "buildingSelection",
							"sid": 852578840508397,
							"parameters": {
								"instance-variable": "costFibres",
								"comparison": 3,
								"value": "FIBRES"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "buildingSelection",
							"sid": 353926883359213,
							"parameters": {
								"instance-variable": "costFlint",
								"comparison": 3,
								"value": "FLINT"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "buildingSelection",
							"sid": 215886208749351,
							"parameters": {
								"instance-variable": "costGold",
								"comparison": 3,
								"value": "GOLD"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "buildingSelection",
							"sid": 406779237510528,
							"parameters": {
								"instance-variable": "costSS",
								"comparison": 3,
								"value": "SANDSTONE"
							}
						}
					],
					"actions": [],
					"sid": 398564133983472,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "buildingSelection",
									"sid": 374924323810579,
									"parameters": {
										"instance-variable": "building",
										"comparison": 1,
										"value": "\"destroy\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 667923826423078,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"value": "buildingSelection.building"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 850803473834245,
									"parameters": {
										"variable": "CURRENTLYBUILDING",
										"value": "true"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "buildMenu",
									"sid": 187753599074282,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"\"",
										"property": "offsetX",
										"end-value": "ViewportRight(\"ui\")+Self.Width/2+15",
										"time": "0.3",
										"ease": "easeoutquad",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "buildingOutline",
									"sid": 390410156451650,
									"parameters": {
										"animation": "buildingSelection.building",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "buildingOutline",
									"sid": 684679005007522,
									"parameters": {
										"instance-variable": "fibres",
										"value": "buildingSelection.costFibres"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "buildingOutline",
									"sid": 757099143021474,
									"parameters": {
										"instance-variable": "flint",
										"value": "buildingSelection.costFlint"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "buildingOutline",
									"sid": 443147945240441,
									"parameters": {
										"instance-variable": "gold",
										"value": "buildingSelection.costGold"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "buildingOutline",
									"sid": 401967404359376,
									"parameters": {
										"instance-variable": "ss",
										"value": "buildingSelection.costSS"
									}
								}
							],
							"sid": 640375337079114
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "buildingSelection",
									"sid": 183075595005782,
									"parameters": {
										"instance-variable": "building",
										"comparison": 0,
										"value": "\"destroy\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "buildMenu",
									"sid": 424078775247235,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"\"",
										"property": "offsetX",
										"end-value": "ViewportRight(\"ui\")+Self.Width/2+15",
										"time": "0.3",
										"ease": "easeoutquad",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "cursor",
									"sid": 126296202862109,
									"parameters": {
										"animation": "\"destroy\"",
										"from": "beginning"
									}
								}
							],
							"sid": 573447692044884
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Building menu and popup text"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 135290882414276,
							"parameters": {
								"object": "buildingSelection"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "bottomBox",
							"sid": 240949002046349,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "txtBottomBox",
							"sid": 842889931195308,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-text",
							"objectClass": "txtBottomBox",
							"sid": 788999213867962,
							"parameters": {
								"text": "buildingSelection.desc"
							}
						}
					],
					"sid": 173237019095737
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 967945843882279
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "bottomBox",
							"sid": 730467648463774,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "txtBottomBox",
							"sid": 344246393962944,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 832547025835510
				},
				{
					"eventType": "comment",
					"text": "Highlighting placement of potential building"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 231495488425016,
							"parameters": {
								"variable": "CURRENTLYBUILDING"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "buildingOutline",
							"sid": 919321130952047,
							"parameters": {
								"x": "floor(Mouse.X/GRID_X)*GRID_X",
								"y": "floor(Mouse.Y/GRID_Y)*GRID_Y"
							}
						}
					],
					"sid": 224179790961060,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "buildingOutline",
									"sid": 371014663689052,
									"parameters": {
										"object": "famStructures"
									}
								}
							],
							"actions": [
								{
									"id": "set-effect-parameter",
									"objectClass": "buildingOutline",
									"sid": 874472286349215,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "0",
										"value": "50"
									}
								}
							],
							"sid": 600530371177576
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 397909936716371
								}
							],
							"actions": [
								{
									"id": "set-effect-parameter",
									"objectClass": "buildingOutline",
									"sid": 206076816886535,
									"parameters": {
										"effect": "\"AdjustHSL\"",
										"parameter-index": "0",
										"value": "0"
									}
								}
							],
							"sid": 213273074063091
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Placing building"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 440154742172444,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 737333109964308,
							"parameters": {
								"variable": "CURRENTLYBUILDING"
							}
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "buildingOutline",
							"sid": 308742137645984,
							"parameters": {
								"object": "famStructures"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 524413587268129,
							"parameters": {
								"variable": "CURRENTLYBUILDING",
								"value": "false"
							}
						},
						{
							"id": "set-position",
							"objectClass": "buildingOutline",
							"sid": 215210386379630,
							"parameters": {
								"x": "-500",
								"y": "-500"
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 991357834500919,
							"parameters": {
								"object-to-create": "building",
								"layer": "\"stuff\"",
								"x": "floor(Mouse.X/GRID_X)*GRID_X",
								"y": "floor(Mouse.Y/GRID_Y)*GRID_Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "building",
							"sid": 966069108901665,
							"parameters": {
								"instance-variable": "id",
								"value": "BUILDINGID"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 931476956207700,
							"parameters": {
								"variable": "BUILDINGID",
								"value": "1"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "building",
							"sid": 809948929237865,
							"parameters": {
								"animation": "CURRENTLYBUILDINGANIMATION",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "building",
							"sid": 924560151366178,
							"parameters": {
								"instance-variable": "occupants",
								"value": "0"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "building",
							"sid": 318681497724988,
							"parameters": {
								"instance-variable": "food",
								"value": "0"
							}
						},
						{
							"id": "set-size",
							"objectClass": "building",
							"sid": 509039932244359,
							"parameters": {
								"width": "buildingOutline.Width",
								"height": "buildingOutline.Height"
							}
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 339380278321163,
							"parameters": {
								"variable": "FIBRES",
								"value": "buildingOutline.fibres"
							}
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 931016837055492,
							"parameters": {
								"variable": "FLINT",
								"value": "buildingOutline.flint"
							}
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 977695727075631,
							"parameters": {
								"variable": "GOLD",
								"value": "buildingOutline.gold"
							}
						},
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 354266309267696,
							"parameters": {
								"variable": "SANDSTONE",
								"value": "buildingOutline.ss"
							}
						}
					],
					"sid": 909078033234121,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 495367107511303,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"comparison": 0,
										"value": "\"smallHouse\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 599358615891325,
									"parameters": {
										"instance-variable": "type",
										"value": "\"house\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 565335530647501,
									"parameters": {
										"instance-variable": "occupancy",
										"value": "2"
									}
								}
							],
							"sid": 618029498890112
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 704788869759789,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"comparison": 0,
										"value": "\"largeHouse\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 629911404468411,
									"parameters": {
										"instance-variable": "type",
										"value": "\"house\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 139374956134315,
									"parameters": {
										"instance-variable": "occupancy",
										"value": "6"
									}
								}
							],
							"sid": 677865582766239
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 903579031458333,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"comparison": 0,
										"value": "\"farm\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 866161149829884,
									"parameters": {
										"instance-variable": "type",
										"value": "\"farm\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 123321544547512,
									"parameters": {
										"instance-variable": "occupancy",
										"value": "5"
									}
								}
							],
							"sid": 718534930008253
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 170763225841174,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"comparison": 0,
										"value": "\"armory\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 668963853065722,
									"parameters": {
										"instance-variable": "type",
										"value": "\"armory\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 252124450060769,
									"parameters": {
										"instance-variable": "occupancy",
										"value": "5"
									}
								}
							],
							"sid": 586159890757698
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 829221883889428,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"comparison": 0,
										"value": "\"mine\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 169016700419214,
									"parameters": {
										"instance-variable": "type",
										"value": "\"mine\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 209616313912800,
									"parameters": {
										"instance-variable": "occupancy",
										"value": "5"
									}
								}
							],
							"sid": 527688067937908
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 489532197326392,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"comparison": 0,
										"value": "\"smoker\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 961670836175480,
									"parameters": {
										"instance-variable": "type",
										"value": "\"smoker\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 129069974441617,
									"parameters": {
										"instance-variable": "occupancy",
										"value": "2"
									}
								}
							],
							"sid": 652896285388377
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 282076801681184,
									"parameters": {
										"variable": "CURRENTLYBUILDINGANIMATION",
										"comparison": 0,
										"value": "\"tower\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 389947692788604,
									"parameters": {
										"instance-variable": "type",
										"value": "\"tower\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "building",
									"sid": 915633623613300,
									"parameters": {
										"instance-variable": "occupancy",
										"value": "3"
									}
								}
							],
							"sid": 710727508471562
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 561409451568837,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"callFunction": "funcCountOccupancy",
									"sid": 909824958787140
								}
							],
							"sid": 851025443975731
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Clicking on building"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 810482696569000,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "building"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 167380353700144,
							"parameters": {
								"variable": "POPUPOPEN"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 346375039274396,
							"parameters": {
								"object-to-create": "buildingInfo",
								"layer": "\"selection\"",
								"x": "building.X",
								"y": "building.Y-building.Height-40",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 722878357221342,
							"parameters": {
								"object-to-create": "txtBuildingInfo",
								"layer": "\"selection\"",
								"x": "building.X",
								"y": "building.Y-building.Height-40",
								"create-hierarchy": false
							}
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 485670011402686,
							"parameters": {
								"object-to-create": "flag",
								"layer": "\"arrow\"",
								"x": "building.targetX",
								"y": "building.targetY",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 587248845670438,
							"parameters": {
								"variable": "CHOOSINGTARGETBUILDINGTYPE",
								"value": "building.AnimationName"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 619592274073883,
							"parameters": {
								"variable": "CHOOSINGTARGETBUILDINGUID",
								"value": "building.UID"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 929749258840453,
							"parameters": {
								"variable": "POPUPOPEN",
								"value": "true"
							}
						},
						{
							"id": "set-layer-opacity",
							"objectClass": "System",
							"sid": 658981936580628,
							"parameters": {
								"layer": "\"selection\"",
								"opacity": "100"
							}
						}
					],
					"sid": 927357356960876,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 542928581125044,
									"parameters": {
										"first-value": "building.targetX",
										"comparison": 1,
										"second-value": "-500"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 311355029782446,
									"parameters": {
										"object-to-create": "path",
										"layer": "\"background\"",
										"x": "building.X",
										"y": "building.Y",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-width",
									"objectClass": "path",
									"sid": 598445818487743,
									"parameters": {
										"width": "distance(building.X,building.Y,building.targetX,building.targetY)"
									}
								},
								{
									"id": "set-angle-toward-position",
									"objectClass": "path",
									"sid": 222165362049450,
									"parameters": {
										"x": "building.targetX",
										"y": "building.targetY"
									}
								}
							],
							"sid": 889918626336682
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 478520211289096,
									"parameters": {
										"animation": "\"smallHouse\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 347239281409072,
									"parameters": {
										"text": "\"[b]Small House[/b]\" & newline & \"Provides: \" & building.occupancy & \" homes\""
									}
								}
							],
							"sid": 536158568830526
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 458456954245301,
									"parameters": {
										"animation": "\"largeHouse\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 699739120513906,
									"parameters": {
										"text": "\"[b]Large House[/b]\" & newline & \"Provides: \" & building.occupancy & \" homes\""
									}
								}
							],
							"sid": 766914840323322
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 290313079388137,
									"parameters": {
										"animation": "\"farm\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 748875934899121,
									"parameters": {
										"text": "\"[b]Farm[/b]\" & newline & \"No of farmers: \" & building.occupants & newline & \"Max farmers: \" & building.occupancy"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 517092312998802,
									"parameters": {
										"object-to-create": "recruitRandom",
										"layer": "\"selection\"",
										"x": "buildingInfo.X-50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 928349467526221,
									"parameters": {
										"instance-variable": "job",
										"value": "building.AnimationName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 847233245570212,
									"parameters": {
										"instance-variable": "jobID",
										"value": "building.id"
									}
								}
							],
							"sid": 428509208597302
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 994528550582951,
									"parameters": {
										"animation": "\"armory\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 119608777174555,
									"parameters": {
										"text": "\"[b]Armory[/b]\" & newline & \"No of soldiers: \" & building.occupants & newline & \"Max soldiers: \" & building.occupancy"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 611632191670235,
									"parameters": {
										"object-to-create": "selectTarget",
										"layer": "\"selection\"",
										"x": "buildingInfo.X+50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 966346153510161,
									"parameters": {
										"object-to-create": "recruitRandom",
										"layer": "\"selection\"",
										"x": "buildingInfo.X-50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 176541630920673,
									"parameters": {
										"instance-variable": "job",
										"value": "building.AnimationName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 156305248632548,
									"parameters": {
										"instance-variable": "jobID",
										"value": "building.id"
									}
								}
							],
							"sid": 673442937554965
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 531326647981712,
									"parameters": {
										"animation": "\"firepit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 943233673730931,
									"parameters": {
										"text": "\"[b]Fire[/b]\" & newline & \"Food Stored: \" & FOOD"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 661061885907201,
									"parameters": {
										"object-to-create": "recruitRandom",
										"layer": "\"selection\"",
										"x": "buildingInfo.X-50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 694934950771256,
									"parameters": {
										"instance-variable": "job",
										"value": "building.AnimationName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 775834371393537,
									"parameters": {
										"instance-variable": "jobID",
										"value": "building.id"
									}
								}
							],
							"sid": 741301881969648
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 625163451537737,
									"parameters": {
										"animation": "\"mine\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 798112719469940,
									"parameters": {
										"text": "\"[b]Mine[/b]\" & newline & \"No of miners: \" & building.occupants & newline & \"Max miners: \" & building.occupancy"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 404560598338390,
									"parameters": {
										"object-to-create": "selectTarget",
										"layer": "\"selection\"",
										"x": "buildingInfo.X+50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 310572956923440,
									"parameters": {
										"object-to-create": "recruitRandom",
										"layer": "\"selection\"",
										"x": "buildingInfo.X-50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 725184407461374,
									"parameters": {
										"instance-variable": "job",
										"value": "building.AnimationName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 162268489876265,
									"parameters": {
										"instance-variable": "jobID",
										"value": "building.id"
									}
								}
							],
							"sid": 611140884861074
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 601088809217904,
									"parameters": {
										"animation": "\"smoker\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 835861241155494,
									"parameters": {
										"text": "\"[b]Smoker[/b]\" & newline & \"No of butchers: \" & building.occupants & newline & \"Max butchers: \" & building.occupancy"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 591829400159062,
									"parameters": {
										"object-to-create": "selectTarget",
										"layer": "\"selection\"",
										"x": "buildingInfo.X+50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 932573946270324,
									"parameters": {
										"object-to-create": "recruitRandom",
										"layer": "\"selection\"",
										"x": "buildingInfo.X-50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 979290669696640,
									"parameters": {
										"instance-variable": "job",
										"value": "building.AnimationName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 547670358247822,
									"parameters": {
										"instance-variable": "jobID",
										"value": "building.id"
									}
								}
							],
							"sid": 348294609214754
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 678541819461012,
									"parameters": {
										"animation": "\"tower\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtBuildingInfo",
									"sid": 838233566241312,
									"parameters": {
										"text": "\"[b]Tower[/b]\" & newline & \"No of guards: \" & building.occupants & newline & \"Max guards: \" & building.occupancy"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 527749307375463,
									"parameters": {
										"object-to-create": "recruitRandom",
										"layer": "\"selection\"",
										"x": "buildingInfo.X-50",
										"y": "buildingInfo.Y+50",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 295165107321039,
									"parameters": {
										"instance-variable": "job",
										"value": "building.AnimationName"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "recruitRandom",
									"sid": 620628140097550,
									"parameters": {
										"instance-variable": "jobID",
										"value": "building.id"
									}
								}
							],
							"sid": 726261359621044
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Setting target"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 164303623164386,
							"parameters": {
								"variable": "CHOOSINGTARGET"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "selectingTarget",
							"sid": 581052073558141,
							"parameters": {
								"x": "Mouse.X",
								"y": "Mouse.Y"
							}
						},
						{
							"id": "set-layer-opacity",
							"objectClass": "System",
							"sid": 677970690770205,
							"parameters": {
								"layer": "\"selection\"",
								"opacity": "25"
							}
						}
					],
					"sid": 127359722269807
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 962569125135900,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked"
							}
						},
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 966490627149191,
							"parameters": {
								"mouse-button": "right",
								"click-type": "clicked"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "selectingTarget",
							"sid": 629499461253516,
							"parameters": {
								"x": "-500",
								"y": "-500"
							}
						}
					],
					"sid": 535507558535475,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 624587072448614,
									"parameters": {
										"variable": "CHOOSINGTARGET"
									}
								}
							],
							"actions": [],
							"sid": 488307882668690,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 207367437810720,
											"parameters": {
												"variable": "CHOOSINGTARGETBUILDINGTYPE",
												"comparison": 0,
												"value": "\"mine\""
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 716779927284968,
											"parameters": {
												"object": "resource"
											}
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "building",
											"sid": 102914619862837,
											"parameters": {
												"unique-id": "CHOOSINGTARGETBUILDINGUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "building",
											"sid": 111785739729537,
											"parameters": {
												"instance-variable": "targetX",
												"value": "resource.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "building",
											"sid": 205980434296350,
											"parameters": {
												"instance-variable": "targetY",
												"value": "resource.Y"
											}
										},
										{
											"id": "set-position",
											"objectClass": "flag",
											"sid": 758658948285101,
											"parameters": {
												"x": "building.targetX",
												"y": "building.targetY"
											}
										},
										{
											"id": "destroy",
											"objectClass": "path",
											"sid": 813163226271945
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 831330047246830,
											"parameters": {
												"object-to-create": "path",
												"layer": "\"background\"",
												"x": "building.X",
												"y": "building.Y",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-width",
											"objectClass": "path",
											"sid": 583289605352330,
											"parameters": {
												"width": "distance(building.X,building.Y,building.targetX,building.targetY)"
											}
										},
										{
											"id": "set-angle-toward-position",
											"objectClass": "path",
											"sid": 237548132372183,
											"parameters": {
												"x": "building.targetX",
												"y": "building.targetY"
											}
										}
									],
									"sid": 291716914044942,
									"children": [
										{
											"eventType": "comment",
											"text": "If people work there,"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 932567505085031,
													"parameters": {
														"object": "person"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "person",
													"sid": 765141928549028,
													"parameters": {
														"instance-variable": "jobID",
														"comparison": 0,
														"value": "building.id"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 165965763146147,
													"parameters": {
														"instance-variable": "currentState",
														"value": "\"idle\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 561861298224506,
													"parameters": {
														"instance-variable": "task",
														"value": "\"\""
													}
												}
											],
											"sid": 676434548045887
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 521582295698351,
											"parameters": {
												"variable": "CHOOSINGTARGETBUILDINGTYPE",
												"comparison": 0,
												"value": "\"armory\""
											}
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "building",
											"sid": 403940809356719,
											"parameters": {
												"unique-id": "CHOOSINGTARGETBUILDINGUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "building",
											"sid": 145493325888402,
											"parameters": {
												"instance-variable": "targetX",
												"value": "Mouse.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "building",
											"sid": 877926551633909,
											"parameters": {
												"instance-variable": "targetY",
												"value": "Mouse.Y"
											}
										},
										{
											"id": "set-position",
											"objectClass": "flag",
											"sid": 917646571751201,
											"parameters": {
												"x": "building.targetX",
												"y": "building.targetY"
											}
										},
										{
											"id": "destroy",
											"objectClass": "path",
											"sid": 619494159566242
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 251462778145902,
											"parameters": {
												"object-to-create": "path",
												"layer": "\"background\"",
												"x": "building.X",
												"y": "building.Y",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-width",
											"objectClass": "path",
											"sid": 134148711169304,
											"parameters": {
												"width": "distance(building.X,building.Y,building.targetX,building.targetY)"
											}
										},
										{
											"id": "set-angle-toward-position",
											"objectClass": "path",
											"sid": 501504134718094,
											"parameters": {
												"x": "building.targetX",
												"y": "building.targetY"
											}
										}
									],
									"sid": 695100579104732,
									"children": [
										{
											"eventType": "comment",
											"text": "If people work there,"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 993423805190496,
													"parameters": {
														"object": "person"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "person",
													"sid": 921467785016522,
													"parameters": {
														"instance-variable": "jobID",
														"comparison": 0,
														"value": "building.id"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 316668812375991,
													"parameters": {
														"instance-variable": "currentState",
														"value": "\"idle\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 842524361542489,
													"parameters": {
														"instance-variable": "task",
														"value": "\"\""
													}
												}
											],
											"sid": 334910147466640
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 441344902132909,
											"parameters": {
												"variable": "CHOOSINGTARGETBUILDINGTYPE",
												"comparison": 0,
												"value": "\"smoker\""
											}
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "building",
											"sid": 874090854508721,
											"parameters": {
												"unique-id": "CHOOSINGTARGETBUILDINGUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "building",
											"sid": 851772849119042,
											"parameters": {
												"instance-variable": "targetX",
												"value": "Mouse.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "building",
											"sid": 688963978572416,
											"parameters": {
												"instance-variable": "targetY",
												"value": "Mouse.Y"
											}
										},
										{
											"id": "set-position",
											"objectClass": "flag",
											"sid": 363182787840085,
											"parameters": {
												"x": "building.targetX",
												"y": "building.targetY"
											}
										},
										{
											"id": "destroy",
											"objectClass": "path",
											"sid": 833237907476322
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 143494274791759,
											"parameters": {
												"object-to-create": "path",
												"layer": "\"background\"",
												"x": "building.X",
												"y": "building.Y",
												"create-hierarchy": false
											}
										},
										{
											"id": "set-width",
											"objectClass": "path",
											"sid": 657687993522865,
											"parameters": {
												"width": "distance(building.X,building.Y,building.targetX,building.targetY)"
											}
										},
										{
											"id": "set-angle-toward-position",
											"objectClass": "path",
											"sid": 556383754497533,
											"parameters": {
												"x": "building.targetX",
												"y": "building.targetY"
											}
										}
									],
									"sid": 484465424857231,
									"children": [
										{
											"eventType": "comment",
											"text": "If people work there,"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 562077509974964,
													"parameters": {
														"object": "person"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "person",
													"sid": 789421267785486,
													"parameters": {
														"instance-variable": "jobID",
														"comparison": 0,
														"value": "building.id"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 503601992815351,
													"parameters": {
														"instance-variable": "currentState",
														"value": "\"idle\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 121643890988539,
													"parameters": {
														"instance-variable": "task",
														"value": "\"\""
													}
												}
											],
											"sid": 203268000057897
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 193010663478315,
									"parameters": {
										"variable": "CHOOSINGTARGET",
										"value": "false"
									}
								}
							],
							"sid": 177659399953651
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "Cancelling of placement"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 478659444781647,
							"parameters": {
								"mouse-button": "right",
								"click-type": "clicked"
							}
						}
					],
					"actions": [],
					"sid": 498903057660302,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 782415600004430,
									"parameters": {
										"variable": "CURRENTLYBUILDING"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 792023117753324,
									"parameters": {
										"variable": "CURRENTLYBUILDING",
										"value": "false"
									}
								},
								{
									"id": "set-position",
									"objectClass": "buildingOutline",
									"sid": 161087267402231,
									"parameters": {
										"x": "-500",
										"y": "-500"
									}
								}
							],
							"sid": 433935820640877
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 679020388914364,
									"parameters": {
										"variable": "CHOOSINGTARGET"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 861348597107330,
									"parameters": {
										"variable": "CHOOSINGTARGET",
										"value": "false"
									}
								},
								{
									"id": "set-position",
									"objectClass": "selectingTarget",
									"sid": 212875858026852,
									"parameters": {
										"x": "-500",
										"y": "-500"
									}
								}
							],
							"sid": 374204154549341
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "cursor",
									"sid": 832359732962850,
									"parameters": {
										"animation": "\"destroy\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "cursor",
									"sid": 971488383967926,
									"parameters": {
										"animation": "\"Default\"",
										"from": "beginning"
									}
								}
							],
							"sid": 624849005927280
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 796134697967236,
							"parameters": {
								"mouse-button": "right",
								"click-type": "clicked"
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-opacity",
							"objectClass": "System",
							"sid": 995675691253290,
							"parameters": {
								"layer": "\"selection\"",
								"opacity": "100"
							}
						}
					],
					"sid": 637716206407565,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 291599752178327,
									"parameters": {
										"variable": "POPUPOPEN"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 313615905085040,
									"parameters": {
										"variable": "POPUPOPEN",
										"value": "false"
									}
								},
								{
									"id": "destroy",
									"objectClass": "buildingInfo",
									"sid": 943019624088930
								},
								{
									"id": "destroy",
									"objectClass": "selectTarget",
									"sid": 481779996469952
								},
								{
									"id": "destroy",
									"objectClass": "recruitRandom",
									"sid": 350546623113313
								},
								{
									"id": "destroy",
									"objectClass": "txtBuildingInfo",
									"sid": 783506451256966
								},
								{
									"id": "destroy",
									"objectClass": "flag",
									"sid": 649333672587630
								},
								{
									"id": "destroy",
									"objectClass": "path",
									"sid": 934062765160235
								}
							],
							"sid": 284599741135248
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 911827779893174,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked"
							}
						}
					],
					"actions": [],
					"sid": 626478087876026,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 205096473448883,
									"parameters": {
										"object": "selectTarget"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 700969465889230,
									"parameters": {
										"variable": "CHOOSINGTARGET",
										"value": "true"
									}
								}
							],
							"sid": 773626532227600
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 144852262354787,
									"parameters": {
										"object": "recruitRandom"
									}
								}
							],
							"actions": [],
							"sid": 617871193376875,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "building",
											"sid": 400504889681713,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "recruitRandom.jobID"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "building",
											"sid": 797218635339352,
											"parameters": {
												"instance-variable": "occupants",
												"comparison": 2,
												"value": "building.occupancy"
											}
										}
									],
									"actions": [],
									"sid": 514469877728801,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "person",
													"sid": 317785416059351,
													"parameters": {
														"instance-variable": "job",
														"comparison": 0,
														"value": "\"peasant\""
													}
												},
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 556481005015313,
													"parameters": {
														"object": "person"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 929952660828491,
													"parameters": {
														"instance-variable": "job",
														"value": "recruitRandom.job"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 935341293154880,
													"parameters": {
														"instance-variable": "jobID",
														"value": "recruitRandom.jobID"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "person",
													"sid": 334480093841023,
													"parameters": {
														"animation": "recruitRandom.job",
														"from": "beginning"
													}
												},
												{
													"callFunction": "funcCheckOccupationOccupancy",
													"sid": 504771263398907
												}
											],
											"sid": 364723184150831,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-animation-playing",
															"objectClass": "building",
															"sid": 565636992923587,
															"parameters": {
																"animation": "\"farm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "txtBuildingInfo",
															"sid": 342760891386574,
															"parameters": {
																"text": "\"[b]Farm[/b]\" & newline & \"No of farmers: \" & building.occupants & newline & \"Max farmers: \" & building.occupancy"
															}
														}
													],
													"sid": 653563783778046
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-animation-playing",
															"objectClass": "building",
															"sid": 300377741988614,
															"parameters": {
																"animation": "\"armory\""
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "txtBuildingInfo",
															"sid": 212364666532414,
															"parameters": {
																"text": "\"[b]Armory[/b]\" & newline & \"No of soldiers: \" & building.occupants & newline & \"Max soldiers: \" & building.occupancy"
															}
														}
													],
													"sid": 614664424645356
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-animation-playing",
															"objectClass": "building",
															"sid": 908012649843883,
															"parameters": {
																"animation": "\"firepit\""
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "txtBuildingInfo",
															"sid": 155212811874977,
															"parameters": {
																"text": "\"[b]Fire[/b]\" & newline & \"Food Stored: \" & FOOD"
															}
														}
													],
													"sid": 508657653116410
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-animation-playing",
															"objectClass": "building",
															"sid": 882635400462825,
															"parameters": {
																"animation": "\"mine\""
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "txtBuildingInfo",
															"sid": 917535566804025,
															"parameters": {
																"text": "\"[b]Mine[/b]\" & newline & \"No of miners: \" & building.occupants & newline & \"Max miners: \" & building.occupancy"
															}
														}
													],
													"sid": 729961258283130
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-animation-playing",
															"objectClass": "building",
															"sid": 294521038402777,
															"parameters": {
																"animation": "\"smoker\""
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "txtBuildingInfo",
															"sid": 122670414225588,
															"parameters": {
																"text": "\"[b]Smoker[/b]\" & newline & \"No of butchers: \" & building.occupants & newline & \"Max butchers: \" & building.occupancy"
															}
														}
													],
													"sid": 338007950059901
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-animation-playing",
															"objectClass": "building",
															"sid": 745770457311330,
															"parameters": {
																"animation": "\"tower\""
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "txtBuildingInfo",
															"sid": 255644970352306,
															"parameters": {
																"text": "\"[b]Tower[/b]\" & newline & \"No of guards: \" & building.occupants & newline & \"Max guards: \" & building.occupancy"
															}
														}
													],
													"sid": 586124158613008
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 575383383208978,
									"parameters": {
										"object": "building"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "cursor",
									"sid": 666312844538278,
									"parameters": {
										"animation": "\"destroy\""
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 169667364377279,
									"parameters": {
										"animation": "\"firepit\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "building",
									"sid": 550731225206815
								},
								{
									"id": "set-animation",
									"objectClass": "cursor",
									"sid": 399436502555591,
									"parameters": {
										"animation": "\"Default\"",
										"from": "beginning"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 755122681640221,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"callFunction": "funcCountOccupancy",
									"sid": 178289970097802
								},
								{
									"callFunction": "funcCheckWorkplaceStillExists",
									"sid": 806015061755669
								}
							],
							"sid": 442913145999071
						}
					]
				}
			],
			"sid": 901837290809290
		},
		{
			"functionName": "funcUpdateResourceValues",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 162189571006629,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 195846075386127,
							"parameters": {
								"object": "txtResources"
							}
						}
					],
					"actions": [],
					"sid": 117542742513220,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 180826859479131,
									"parameters": {
										"first-value": "loopindex",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtResources",
									"sid": 810641047358968,
									"parameters": {
										"text": "GOLD"
									}
								}
							],
							"sid": 807651505494187
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 575180990229681,
									"parameters": {
										"first-value": "loopindex",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtResources",
									"sid": 391023738982567,
									"parameters": {
										"text": "FLINT"
									}
								}
							],
							"sid": 813111650899426
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 498763987051330,
									"parameters": {
										"first-value": "loopindex",
										"comparison": 0,
										"second-value": "2"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtResources",
									"sid": 355240450307194,
									"parameters": {
										"text": "SANDSTONE"
									}
								}
							],
							"sid": 556392290996632
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 488277888358100,
									"parameters": {
										"first-value": "loopindex",
										"comparison": 0,
										"second-value": "3"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtResources",
									"sid": 708048151678024,
									"parameters": {
										"text": "FIBRES"
									}
								}
							],
							"sid": 264298938476971
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 899281362504788,
									"parameters": {
										"first-value": "loopindex",
										"comparison": 0,
										"second-value": "4"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtResources",
									"sid": 992100263510183,
									"parameters": {
										"text": "FOOD"
									}
								}
							],
							"sid": 709447656605209
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 959188185034534,
									"parameters": {
										"first-value": "loopindex",
										"comparison": 0,
										"second-value": "5"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "txtResources",
									"sid": 860711417127785,
									"parameters": {
										"text": "OCCUPANTS & \"/\" & OCCUPANCY"
									}
								}
							],
							"sid": 597456073541847
						}
					]
				}
			]
		},
		{
			"functionName": "funcCheckForJobs",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 622191181994459,
			"disabled": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If unemployed,"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 111430676409944,
							"parameters": {
								"instance-variable": "job",
								"comparison": 0,
								"value": "\"peasant\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 702374923221419,
							"parameters": {
								"instance-variable": "task",
								"comparison": 0,
								"value": "\"\""
							}
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 912492792947235,
							"parameters": {
								"object": "person"
							}
						}
					],
					"actions": [],
					"sid": 373620332155078,
					"disabled": true,
					"children": [
						{
							"eventType": "comment",
							"text": "If jobs available,"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 282335771843188,
									"parameters": {
										"object": "building",
										"expression": "building.occupants",
										"order": "descending"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "building",
									"sid": 445037247811134,
									"parameters": {
										"instance-variable": "occupants",
										"comparison": 2,
										"value": "Self.occupancy"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "building",
									"sid": 642204218352010,
									"parameters": {
										"instance-variable": "type",
										"comparison": 1,
										"value": "\"house\""
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "building",
									"sid": 829798016104467,
									"parameters": {
										"instance-variable": "occupants",
										"value": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 208905176902232,
									"parameters": {
										"instance-variable": "job",
										"value": "building.type"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 165112704943907,
									"parameters": {
										"instance-variable": "jobID",
										"value": "building.id"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "person",
									"sid": 568500653531070,
									"parameters": {
										"animation": "building.AnimationName",
										"from": "beginning"
									}
								}
							],
							"sid": 105471690294673,
							"disabled": true
						}
					]
				}
			]
		},
		{
			"functionName": "funcCreateChild",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "localX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 984144516796959
				},
				{
					"name": "localY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 138982256581602
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 346090975349454,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 342765434870945,
							"parameters": {
								"object-to-create": "person",
								"layer": "\"stuff\"",
								"x": "localX",
								"y": "localY",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 895648753194875,
							"parameters": {
								"instance-variable": "age",
								"value": "0"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "person",
							"sid": 488330550578877,
							"parameters": {
								"animation": "\"peasant\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 348535323544609,
							"parameters": {
								"instance-variable": "currentState",
								"value": "\"idle\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 893875776757876,
							"parameters": {
								"instance-variable": "job",
								"value": "\"child\""
							}
						},
						{
							"callFunction": "funcCountOccupancy",
							"sid": 170931795800615
						},
						{
							"id": "set-size",
							"objectClass": "person",
							"sid": 638112702450685,
							"parameters": {
								"width": "22",
								"height": "20"
							}
						}
					],
					"sid": 426638548278928
				}
			]
		},
		{
			"functionName": "funcFindEmptyHouse",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 878415849616684,
			"disabled": true,
			"children": [
				{
					"eventType": "variable",
					"name": "value",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 301375227786944
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 167358740961371,
							"parameters": {
								"object": "building"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "building",
							"sid": 958970688822591,
							"parameters": {
								"instance-variable": "type",
								"comparison": 0,
								"value": "\"house\""
							}
						}
					],
					"actions": [],
					"sid": 521159582659573,
					"disabled": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 503885779801105,
									"parameters": {
										"first-value": "building.occupants",
										"comparison": 2,
										"second-value": "building.occupancy"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 551710529837485,
									"parameters": {
										"variable": "value",
										"value": "building.UID"
									}
								}
							],
							"sid": 747752613442128,
							"disabled": true
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 489781140246019,
							"parameters": {
								"value": "value"
							}
						}
					],
					"sid": 108468453219084,
					"disabled": true
				}
			]
		},
		{
			"eventType": "variable",
			"name": "OCCUPANCY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 538560953262525
		},
		{
			"eventType": "variable",
			"name": "OCCUPANTS",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 389259813069055
		},
		{
			"functionName": "funcCountOccupancy",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 893033056397304,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 538924420600766,
							"parameters": {
								"variable": "OCCUPANCY",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 574617050753238,
							"parameters": {
								"variable": "OCCUPANTS",
								"value": "person.Count"
							}
						}
					],
					"sid": 190992764788875
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 932672118027502,
							"parameters": {
								"object": "building"
							}
						}
					],
					"actions": [],
					"sid": 629411429897541,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 768277846930905,
									"parameters": {
										"animation": "\"smallHouse\""
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 857039369482051,
									"parameters": {
										"variable": "OCCUPANCY",
										"value": "2"
									}
								}
							],
							"sid": 921651853530111
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "building",
									"sid": 808270999249045,
									"parameters": {
										"animation": "\"largeHouse\""
									}
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 410544183365684,
									"parameters": {
										"variable": "OCCUPANCY",
										"value": "6"
									}
								}
							],
							"sid": 264020416538809
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "funcUpdateResourceValues",
							"sid": 773991383705309
						}
					],
					"sid": 450831117118218
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Setting Occupation",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 404889535999988,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "person"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 273815556932907,
							"parameters": {
								"instance-variable": "job",
								"comparison": 1,
								"value": "\"child\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 911419728428106,
							"parameters": {
								"variable": "ISDRAGGING",
								"value": "true"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "outline",
							"sid": 955640572430124,
							"parameters": {
								"instance-variable": "personUID",
								"value": "person.UID"
							}
						}
					],
					"sid": 252020243018931
				},
				{
					"eventType": "comment",
					"text": "Getting a new job"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-button-released",
							"objectClass": "Mouse",
							"sid": 973628127620565,
							"parameters": {
								"mouse-button": "left"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 872318663364237,
							"parameters": {
								"variable": "ISDRAGGING"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 512695649143051,
							"parameters": {
								"variable": "ISDRAGGING",
								"value": "false"
							}
						},
						{
							"id": "set-position",
							"objectClass": "outline",
							"sid": 112597993755290,
							"parameters": {
								"x": "-500",
								"y": "-500"
							}
						}
					],
					"sid": 835092912064807,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 956509996096368,
									"parameters": {
										"object": "building"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "building",
									"sid": 307744147201106,
									"parameters": {
										"instance-variable": "occupants",
										"comparison": 2,
										"value": "building.occupancy"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "building",
									"sid": 951554620618078,
									"parameters": {
										"instance-variable": "type",
										"comparison": 1,
										"value": "\"house\""
									}
								}
							],
							"actions": [],
							"sid": 254898629504363,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "person",
											"sid": 858398930109118,
											"parameters": {
												"unique-id": "outline.personUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 942353723841799,
											"parameters": {
												"instance-variable": "job",
												"value": "building.AnimationName"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 458274358409868,
											"parameters": {
												"instance-variable": "jobID",
												"value": "building.id"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "person",
											"sid": 711894610298142,
											"parameters": {
												"animation": "building.AnimationName",
												"from": "beginning"
											}
										},
										{
											"callFunction": "funcCheckOccupationOccupancy",
											"sid": 324859212413440
										}
									],
									"sid": 496910283444443
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 886778746138112,
							"parameters": {
								"variable": "ISDRAGGING"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "outline",
							"sid": 425831462683466,
							"parameters": {
								"x": "Mouse.X",
								"y": "Mouse.Y"
							}
						}
					],
					"sid": 355544788138759
				}
			],
			"sid": 230401822931773
		},
		{
			"functionName": "funcCheckOccupationOccupancy",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 803473899908796,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 181039387281667,
							"parameters": {
								"object": "building"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "building",
							"sid": 403963869122416,
							"parameters": {
								"instance-variable": "type",
								"comparison": 1,
								"value": "\"house\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "building",
							"sid": 296695672362809,
							"parameters": {
								"instance-variable": "occupants",
								"value": "0"
							}
						}
					],
					"sid": 421205921939911,
					"children": [
						{
							"eventType": "comment",
							"text": "If the person works there,"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 945849688747264,
									"parameters": {
										"object": "person"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 904771186212996,
									"parameters": {
										"instance-variable": "job",
										"comparison": 1,
										"value": "\"child\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 840295770442695,
									"parameters": {
										"instance-variable": "job",
										"comparison": 1,
										"value": "\"peasant\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 137582403871203,
									"parameters": {
										"instance-variable": "jobID",
										"comparison": 0,
										"value": "building.id"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "building",
									"sid": 286884575492331,
									"parameters": {
										"instance-variable": "occupants",
										"value": "1"
									}
								}
							],
							"sid": 670497001857634
						}
					]
				}
			]
		},
		{
			"functionName": "funcCheckWorkplaceStillExists",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 687297492452805,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 766386739428493,
							"parameters": {
								"object": "person"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 321478657619346,
							"parameters": {
								"instance-variable": "job",
								"comparison": 1,
								"value": "\"child\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 499588994189820,
							"parameters": {
								"instance-variable": "job",
								"comparison": 1,
								"value": "\"peasant\""
							}
						}
					],
					"actions": [],
					"sid": 196399399567269,
					"children": [
						{
							"eventType": "variable",
							"name": "haveJob",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 682290898996573
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 712364564255346,
									"parameters": {
										"object": "building"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "building",
									"sid": 297938633185644,
									"parameters": {
										"instance-variable": "type",
										"comparison": 1,
										"value": "\"house\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 570459394066072,
									"parameters": {
										"instance-variable": "jobID",
										"comparison": 0,
										"value": "building.id"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 685719592475391,
									"parameters": {
										"variable": "haveJob",
										"value": "1"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "person",
									"sid": 680116332618032,
									"parameters": {
										"animation": "building.AnimationName",
										"from": "beginning"
									}
								}
							],
							"sid": 140332302448119
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 282983161480120,
									"parameters": {
										"variable": "haveJob",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 871754246344363,
									"parameters": {
										"instance-variable": "job",
										"value": "\"peasant\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "person",
									"sid": 987137665363979,
									"parameters": {
										"animation": "\"peasant\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 604966072491932,
									"parameters": {
										"instance-variable": "task",
										"value": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 674747171918800,
									"parameters": {
										"instance-variable": "jobID",
										"value": "0"
									}
								}
							],
							"sid": 418141611368969
						}
					]
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Animals",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-arrived",
							"objectClass": "deer",
							"sid": 284613345311268,
							"behaviorType": "MoveTo"
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "deer",
							"sid": 835942018923427,
							"parameters": {
								"instance-variable": "alive"
							}
						}
					],
					"actions": [
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 889739651582583,
							"parameters": {
								"seconds": "1"
							}
						},
						{
							"id": "move-to-position",
							"objectClass": "deer",
							"sid": 165482420403320,
							"behaviorType": "MoveTo",
							"parameters": {
								"x": "Self.X+random(-50,50)",
								"y": "Self.Y+random(-50,50)",
								"mode": "direct"
							}
						}
					],
					"sid": 837527230274071
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 612013396353873
						}
					],
					"actions": [
						{
							"id": "move-to-position",
							"objectClass": "deer",
							"sid": 864441444065614,
							"behaviorType": "MoveTo",
							"parameters": {
								"x": "Self.X+random(-10,10)",
								"y": "Self.Y+random(-10,10)",
								"mode": "direct"
							}
						}
					],
					"sid": 722140372862514
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "goblin",
							"sid": 252052573470767
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "goblin",
							"sid": 390392481655743,
							"parameters": {
								"instance-variable": "currentState",
								"value": "\"moving\""
							}
						}
					],
					"sid": 318713552098721,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-nearestfurthest",
									"objectClass": "famToDestroy",
									"sid": 886812895024525,
									"parameters": {
										"which": "nearest",
										"x": "goblin.X",
										"y": "goblin.Y"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "famToDestroy",
									"sid": 262753053663611,
									"parameters": {
										"instance-variable": "dontDestroy"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "move-to-object",
									"objectClass": "goblin",
									"sid": 639944899347390,
									"behaviorType": "MoveTo",
									"parameters": {
										"object": "famToDestroy",
										"image-point": "0",
										"mode": "direct"
									}
								}
							],
							"sid": 181066834806778
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "bullet",
							"sid": 695844279845814,
							"parameters": {
								"object": "goblin"
							}
						}
					],
					"actions": [
						{
							"id": "move-at-angle",
							"objectClass": "goblin",
							"sid": 696496414608716,
							"parameters": {
								"angle": "angle(bullet.X,bullet.Y,Self.X,Self.Y)",
								"distance": "5"
							}
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "goblin",
							"sid": 686662814899067,
							"parameters": {
								"instance-variable": "health",
								"value": "4"
							}
						},
						{
							"id": "destroy",
							"objectClass": "bullet",
							"sid": 269703701626295
						}
					],
					"sid": 571696096329776
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "goblin",
							"sid": 696838982504237,
							"parameters": {
								"instance-variable": "health",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "goblin",
							"sid": 370679349892233
						}
					],
					"sid": 203717938714224
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "person",
							"sid": 958807296049540,
							"parameters": {
								"object": "goblin"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 486162830785411,
							"parameters": {
								"instance-variable": "job",
								"comparison": 1,
								"value": "\"armory\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 368373538933856,
							"parameters": {
								"instance-variable": "currentState",
								"value": "\"being attacked\""
							}
						}
					],
					"sid": 928959124969697
				}
			],
			"sid": 212801060512370
		},
		{
			"eventType": "comment",
			"text": "Goblins"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "thought",
					"sid": 933185658153333
				},
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 363700972258164
				}
			],
			"actions": [
				{
					"id": "pin-to-object-imagepoint",
					"objectClass": "thought",
					"sid": 745266321632325,
					"behaviorType": "Pin",
					"parameters": {
						"pin-to": "person",
						"image-point": "\"top\"",
						"angle": true,
						"width-type": "no",
						"height-type": "no",
						"z": false
					}
				}
			],
			"sid": 392944735486597,
			"isOrBlock": true
		},
		{
			"eventType": "variable",
			"name": "WAVECOUNTDOWN",
			"type": "number",
			"initialValue": "120",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 493772386445492
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "pick-random-instance",
					"objectClass": "System",
					"sid": 660101792913717,
					"parameters": {
						"object": "spawnLocation"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 711237539988804,
					"parameters": {
						"variable": "WAVECOUNTDOWN",
						"comparison": 3,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 721245503411581,
					"parameters": {
						"variable": "WAVECOUNTDOWN",
						"value": "120"
					}
				}
			],
			"sid": 341125442268785,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 960503972824521,
							"parameters": {
								"count": "WAVE"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 638050994304087,
							"parameters": {
								"object-to-create": "goblin",
								"layer": "\"stuff\"",
								"x": "spawnLocation.X",
								"y": "spawnLocation.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-speed",
							"objectClass": "goblin",
							"sid": 158721723228720,
							"behaviorType": "MoveTo",
							"parameters": {
								"speed": "random(20,50)"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "goblin",
							"sid": 687811368395523,
							"parameters": {
								"animation": "\"goblin\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "goblin",
							"sid": 862574458636338,
							"parameters": {
								"instance-variable": "health",
								"value": "10"
							}
						}
					],
					"sid": 975911160856932
				},
				{
					"eventType": "comment",
					"text": "Creating goblins"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 356611771372128,
							"parameters": {
								"first-value": "WAVE",
								"comparison": 5,
								"second-value": "32"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 484079128664187,
							"parameters": {
								"object-to-create": "goblin",
								"layer": "\"stuff\"",
								"x": "spawnLocation.X",
								"y": "spawnLocation.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-speed",
							"objectClass": "goblin",
							"sid": 249868668015697,
							"behaviorType": "MoveTo",
							"parameters": {
								"speed": "10"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "goblin",
							"sid": 922745617989430,
							"parameters": {
								"animation": "\"troll\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "goblin",
							"sid": 546631399625215,
							"parameters": {
								"instance-variable": "health",
								"value": "25"
							}
						}
					],
					"sid": 479686170173576
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 411339613618813,
							"parameters": {
								"first-value": "WAVE",
								"comparison": 5,
								"second-value": "64"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 199613143275568,
							"parameters": {
								"object-to-create": "goblin",
								"layer": "\"stuff\"",
								"x": "spawnLocation.X",
								"y": "spawnLocation.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-speed",
							"objectClass": "goblin",
							"sid": 228465064725183,
							"behaviorType": "MoveTo",
							"parameters": {
								"speed": "10"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "goblin",
							"sid": 686213773172856,
							"parameters": {
								"animation": "\"troll\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "goblin",
							"sid": 656558601723482,
							"parameters": {
								"instance-variable": "health",
								"value": "25"
							}
						}
					],
					"sid": 240693193759936
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 828031598931942,
							"parameters": {
								"first-value": "WAVE",
								"comparison": 5,
								"second-value": "128"
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 174393265618723,
							"parameters": {
								"object-to-create": "goblin",
								"layer": "\"stuff\"",
								"x": "spawnLocation.X",
								"y": "spawnLocation.Y",
								"create-hierarchy": false
							}
						},
						{
							"id": "set-speed",
							"objectClass": "goblin",
							"sid": 499595394526856,
							"behaviorType": "MoveTo",
							"parameters": {
								"speed": "10"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "goblin",
							"sid": 620498497815266,
							"parameters": {
								"animation": "\"troll\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "goblin",
							"sid": 263713104292511,
							"parameters": {
								"instance-variable": "health",
								"value": "25"
							}
						}
					],
					"sid": 101686336396538
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 500664915426077,
							"parameters": {
								"first-value": "WAVE",
								"comparison": 2,
								"second-value": "70"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 153709386629434,
							"parameters": {
								"variable": "WAVE",
								"value": "WAVE*2"
							}
						}
					],
					"sid": 649932870597886
				}
			]
		},
		{
			"eventType": "variable",
			"name": "PUSHAMOUNT",
			"type": "number",
			"initialValue": "0.5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 555983942767908
		},
		{
			"eventType": "variable",
			"name": "TUTTIMER",
			"type": "number",
			"initialValue": "2",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 565040358058377
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "goblin",
					"sid": 219629324862340,
					"parameters": {
						"object": "famGoblin"
					}
				},
				{
					"id": "is-moving",
					"objectClass": "goblin",
					"sid": 199516671997477,
					"behaviorType": "MoveTo"
				},
				{
					"id": "is-animation-playing",
					"objectClass": "goblin",
					"sid": 208123532682881,
					"parameters": {
						"animation": "\"troll\""
					},
					"isInverted": true
				}
			],
			"actions": [],
			"sid": 610847459781448,
			"children": [
				{
					"eventType": "comment",
					"text": "Further to the right"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "goblin",
							"sid": 927697818448045,
							"parameters": {
								"comparison": 4,
								"x-co-ordinate": "famGoblin.X"
							}
						}
					],
					"actions": [
						{
							"id": "move-at-angle",
							"objectClass": "goblin",
							"sid": 537587646625381,
							"parameters": {
								"angle": "0",
								"distance": "PUSHAMOUNT"
							}
						}
					],
					"sid": 136132990058573
				},
				{
					"eventType": "comment",
					"text": "Further to the left"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 387820427768922
						},
						{
							"id": "compare-x",
							"objectClass": "goblin",
							"sid": 382470348175261,
							"parameters": {
								"comparison": 2,
								"x-co-ordinate": "famGoblin.X"
							}
						}
					],
					"actions": [
						{
							"id": "move-at-angle",
							"objectClass": "goblin",
							"sid": 108254450337582,
							"parameters": {
								"angle": "180",
								"distance": "PUSHAMOUNT"
							}
						}
					],
					"sid": 512328561365449
				},
				{
					"eventType": "comment",
					"text": "Further to the top"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-y",
							"objectClass": "goblin",
							"sid": 783088365895883,
							"parameters": {
								"comparison": 2,
								"y-co-ordinate": "famGoblin.Y"
							}
						}
					],
					"actions": [
						{
							"id": "move-at-angle",
							"objectClass": "goblin",
							"sid": 428471479737830,
							"parameters": {
								"angle": "270",
								"distance": "PUSHAMOUNT"
							}
						}
					],
					"sid": 762623930389227
				},
				{
					"eventType": "comment",
					"text": "Further to the bottom"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 894642685572088
						},
						{
							"id": "compare-y",
							"objectClass": "goblin",
							"sid": 515656053245365,
							"parameters": {
								"comparison": 4,
								"y-co-ordinate": "famGoblin.Y"
							}
						}
					],
					"actions": [
						{
							"id": "move-at-angle",
							"objectClass": "goblin",
							"sid": 985927338828273,
							"parameters": {
								"angle": "90",
								"distance": "PUSHAMOUNT"
							}
						}
					],
					"sid": 978243774166790
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Tutorial",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 237897085702457
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 181212293267442,
							"parameters": {
								"text": "\"Welcome to Goblin Escape. This is the tutorial, to skip it, press ESC. To continue LEFT CLICK (on the text).\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 901982586828769
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-click",
							"objectClass": "Mouse",
							"sid": 237199286195568,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 679857665964118,
							"parameters": {
								"variable": "TUTORIAL"
							}
						}
					],
					"actions": [],
					"sid": 185624366741206,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 949312532191235,
									"parameters": {
										"object": "txtTut"
									}
								},
								{
									"id": "is-running-typewriter-text",
									"objectClass": "txtTut",
									"sid": 754600502210997,
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 585011984606138,
									"parameters": {
										"variable": "TUT",
										"value": "1"
									}
								}
							],
							"sid": 607095402443124
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "typewriter-finish",
									"objectClass": "txtTut",
									"sid": 998164188959673
								}
							],
							"sid": 666059116368438
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 597759295502163,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "1"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 948305436614268
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 178892584864056,
							"parameters": {
								"text": "\"You play as a tribe trying to survive the inevitable takeover of goblins.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 480428757131726
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 272302719800592,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "2"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 999651900436220
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 724977517621483,
							"parameters": {
								"text": "\"You have 4 resources in the top left. From left to right: gold, flint, sandstone and plant fibres. These can be harvested by a mine. To build a mine click on the build button (top right). You can dismiss a placement with RIGHT CLICK. Move with ARROW KEYS or WASD. And LEFT CLICK here to continue.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 265118696335589
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 676681974055628,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "3"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 694655249375155
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 443820361965944,
							"parameters": {
								"text": "\"Once a mine has been built, it can hire workers. This can be done by LEFT CLICKING and dragging an adult over the building, or by LEFT CLICKING the building and LEFT CLICKING the recruit random button.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 671343934885771
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 726466984919807,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "4"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 525853236197654
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 812589515059902,
							"parameters": {
								"text": "\"A worker will change outfit to suit their new job.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 770321039191015
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 273002330819687,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "5"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 159445160536558
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 633649998680489,
							"parameters": {
								"text": "\"To mine resources, LEFT CLICK the select target button and LEFT CLICK on a resource. This will create a flag to that resource, and the workers will go their to mine.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 370265207064188
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 110503058849108,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "6"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 597205357950754
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 604330698516107,
							"parameters": {
								"text": "\"At any point, RIGHT CLICK to close the building menu.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 588443876729563
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 773568533112600,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "7"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 821123543023237
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 258505883392062,
							"parameters": {
								"text": "\"People will consume food. This resource is indicated by the wheat symbol (you start with 35).\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 174219392643827
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 593887963931828,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "8"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 546392368526801
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 442804996188518,
							"parameters": {
								"text": "\"To increase food stores, either a smoker or a farm can be built.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 179204602543324
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 888280027449122,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "9"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 598918630056387
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 798805908288557,
							"parameters": {
								"text": "\"Try building a smoker building.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 685377698512121
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 700907078368142,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "10"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 552659709446769
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 810475229858936,
							"parameters": {
								"text": "\"Once built, the building can recruit people as before. Setting the target on this building will tell the workers where to hunt, finding the nearest deer to kill.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 392408934707092
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 327556140205356,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "11"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 627019438316971
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 264498914481602,
							"parameters": {
								"text": "\"Some buildings do not have a target, instead the worker will stand at a predetermined spot.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 356885019894560
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 573175836444176,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "12"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 361883339117930
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 831565480493849,
							"parameters": {
								"text": "\"Target locations can be changed by LEFT CLICKING THE select target button a second time. This should be periodically done once all the resources have been harvested in that location.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 143310716306144
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 242851103576383,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "13"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 276561514229087
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 402206359085816,
							"parameters": {
								"text": "\"People will have children, they will only do this if there is enough room in the houses, shown by the final icon at the top.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 173720340479158
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 358132336419224,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "14"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 296609944682189
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 866041053795098,
							"parameters": {
								"text": "\"Children cannot work and will stay around the campfire until fully grown.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 333024460080185
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 429323610852727,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "15"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 827385705456118
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 580776641858450,
							"parameters": {
								"text": "\"Try building another house to increase your population.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 424747637801291
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 828125099196701,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "16"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 816093202319161
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 565931839794268,
							"parameters": {
								"text": "\"Your tribe will eventually be attacked by waves of goblins. These can be fought off with the tower and armory buildings.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 347193394125938
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 186197488459223,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "17"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 238061263529926
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 271331377757325,
							"parameters": {
								"text": "\"Try building a tower and hire some workers.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 858293104963721
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 587891991438135,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "18"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 289913883893096
						}
					],
					"actions": [
						{
							"id": "typewriter-text",
							"objectClass": "txtTut",
							"sid": 861369713198453,
							"parameters": {
								"text": "\"The goal is to get as much gold as possible before the inevitable. Good luck.\"",
								"duration": "TUTTIMER"
							}
						}
					],
					"sid": 803500809026838
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 386429499273718,
							"parameters": {
								"key": 27
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 196291052626562,
							"parameters": {
								"variable": "TUT",
								"comparison": 0,
								"value": "19"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 113976376190657,
							"parameters": {
								"variable": "TUT",
								"value": "0"
							}
						},
						{
							"id": "destroy",
							"objectClass": "tutBox",
							"sid": 335045340588490
						},
						{
							"id": "destroy",
							"objectClass": "tutBox2",
							"sid": 836054676498877
						},
						{
							"id": "destroy",
							"objectClass": "txtTut",
							"sid": 255332965473506
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 392973025240729,
							"parameters": {
								"variable": "TUTORIAL",
								"value": "false"
							}
						}
					],
					"sid": 401671199664662,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 884021386421972,
							"parameters": {
								"interval-seconds": "1"
							}
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 339917507015699,
							"parameters": {
								"variable": "TUTORIAL"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "subtract-from-eventvar",
							"objectClass": "System",
							"sid": 912008274040955,
							"parameters": {
								"variable": "WAVECOUNTDOWN",
								"value": "1"
							}
						}
					],
					"sid": 243227102627047
				}
			],
			"sid": 209333302776071
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "End",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 221996266235302,
							"parameters": {
								"interval-seconds": "1"
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 659547911371720,
							"parameters": {
								"first-value": "person.Count",
								"comparison": 0,
								"second-value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 249506461595310,
							"parameters": {
								"layout": "end"
							}
						}
					],
					"sid": 887603934008607
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "Mouse",
							"sid": 201314551453029,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "menuButton"
							}
						}
					],
					"actions": [
						{
							"id": "reset-global-variables",
							"objectClass": "System",
							"sid": 582333204445741
						},
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 398937558370187,
							"parameters": {
								"layout": "mainMenu"
							}
						}
					],
					"sid": 234333899307449
				}
			],
			"sid": 526326704244043
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 244932427189661,
					"parameters": {
						"key": 70
					}
				}
			],
			"actions": [],
			"sid": 767033252318831,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-fullscreen",
							"objectClass": "Browser",
							"sid": 105068757644970
						}
					],
					"actions": [
						{
							"id": "cancel-fullscreen",
							"objectClass": "Browser",
							"sid": 349158411988373
						}
					],
					"sid": 209719123683849
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-fullscreen",
							"objectClass": "Browser",
							"sid": 177570347500209,
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "request-fullscreen",
							"objectClass": "Browser",
							"sid": 529429733930249,
							"parameters": {
								"mode": "stretch-scale-inner",
								"navigation-ui": "auto"
							}
						}
					],
					"sid": 365696047792468
				}
			]
		}
	],
	"sid": 408933130867141
}